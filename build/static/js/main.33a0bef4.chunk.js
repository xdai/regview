(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{223:function(e){e.exports={name:"regview",version:"1.0.0",private:!0,dependencies:{antd:"^4.0.2",idb:"^5.0.0",npm:"^6.14.2","patch-package":"^6.2.1",react:"^16.13.0","react-dom":"^16.13.0","react-scripts":"^2.1.8"},scripts:{start:"react-scripts start",build:"react-scripts build",test:"react-scripts test",eject:"react-scripts eject",postinstall:"patch-package"},eslintConfig:{extends:"react-app"},browserslist:[">0.2%","not dead","not ie <= 11","not op_mini all"],devDependencies:{"@babel/core":"^7.8.7"},homepage:"./"}},229:function(e,t,n){e.exports=n(445)},236:function(e,t,n){},307:function(e,t,n){},406:function(e,t,n){},426:function(e,t,n){},429:function(e,t,n){},442:function(e,t,n){},443:function(e,t,n){},444:function(e,t,n){},445:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(8),i=n.n(c);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var s=n(3),o=n.n(s),l=n(11),u=n(9),d=n(29),f=n(13),m=n(72),p=n(21),h=n(452),b=n(455),v=n(460),g=n(35),y=n(94),E=n(165),_=n(450),O=n(463),x=n(464),w=n(454),N=n(453),j=n(448),T=n(225),C=n(106),k=n(468),A=n(467),P=n(469),S=n(470),D=n(471),F=n(79),I=(n(236),{mode:"idle",activeKey:NaN,selectedBits:[]});function R(e){var t=e.cellWidth,n=e.bitsPerRow,a=e.byteCount,c={cellWidth:t,bitsPerRow:Math.min(n,8*a),byteCount:a};return r.a.createElement(V,c,r.a.createElement(H,Object.assign({},c,{fields:e.fields})))}function B(e){var t=e.cellWidth,n=e.bitsPerRow,a=e.byteCount,c=e.form,i=e.value,s=e.onChange,u=function(e){if(isNaN(e))return 1;for(var t=0;;t++)if(e<=1<<t)return 1<<t}(a),d={cellWidth:t,bitsPerRow:Math.min(n,8*u),byteCount:u},m=c.getFieldValue("fields"),h=function(e){s&&s(Object(f.a)({},i,e))},b=function(e){h({mode:"editing",activeKey:m.indexOf(e),selectedBits:e.bits})},v=function(){var t=Object(l.a)(o.a.mark(function t(n){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.commitField(n);case 2:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),g=function(){var t=Object(l.a)(o.a.mark(function t(){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.commitField(NaN);case 2:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),y=function(e,t){var n=isNaN(e);if(0!==i.selectedBits.length&&2!==i.selectedBits.length||h({selectedBits:[t]}),1===i.selectedBits.length){var a=[].concat(Object(p.a)(i.selectedBits),[t]).sort(function(e,t){return e-t});if(h({selectedBits:a}),n)c.setFieldsValue({newField:{bits:a}});else{var r=c.getFieldValue("fields");c.setFieldsValue({fields:function(e,t,n){var a=Object(p.a)(e);return a[t]=Object(f.a)({},a[t],n),a}(r,e,{bits:a})})}}},E=function(){var e=Object(l.a)(o.a.mark(function e(t,n){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=i.mode,e.next="idle"===e.t0?3:"editing"===e.t0?5:"adding"===e.t0?13:21;break;case 3:return"field"===t?b(n):"bit"===t&&h({mode:"adding",activeKey:NaN,selectedBits:[n]}),e.abrupt("break",22);case 5:if("field"!==t||2!==i.selectedBits.length){e.next=11;break}return e.next=8,v(i.activeKey);case 8:b(n),e.next=12;break;case 11:"bit"===t&&y(i.activeKey,n);case 12:return e.abrupt("break",22);case 13:if("field"!==t||2!==i.selectedBits.length){e.next=19;break}return e.next=16,g();case 16:b(n),e.next=20;break;case 19:"bit"===t&&y(NaN,n);case 20:case 21:return e.abrupt("break",22);case 22:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}();return r.a.createElement(V,d,r.a.createElement(X,Object.assign({},d,i,{fields:m,onClick:E})))}function V(e){var t=e.cellWidth,n=e.bitsPerRow,a=e.byteCount,c={gridTemplateColumns:"".concat(4+t*n+1*(n-1),"px 80px"),lineHeight:"".concat(t,"px")},i={gridTemplateColumns:"repeat(".concat(e.bitsPerRow,", ").concat(e.cellWidth,"px)"),gridAutoRows:"".concat(e.cellWidth,"px")};return r.a.createElement("div",{className:"bit-grid",style:c},r.a.createElement(z,{cellWidth:t,bitsPerRow:n}),r.a.createElement(W,{cellWidth:t,bitsPerRow:n,byteCount:a}),r.a.createElement("div",{className:"grid",style:i},e.children))}function z(e){for(var t=[],n={gridTemplateColumns:"repeat(".concat(e.bitsPerRow,", ").concat(e.cellWidth,"px)"),gridAutoRows:"".concat(e.cellWidth,"px")},a=e.bitsPerRow-1;a>=0;a--)t.push(r.a.createElement("div",{key:a,className:"bit-pos-indicator"},a));return r.a.createElement("div",{className:"bit-pos-marker",style:n},t)}function W(e){for(var t=[],n=e.bitsPerRow/8,a={gridAutoRows:"".concat(e.cellWidth,"px")},c=0;c<e.byteCount;c+=n){var i=("00"+c.toString(16)).substr(-2).toUpperCase(),s=("00"+(c+n-1).toString(16)).substr(-2).toUpperCase();t.push(r.a.createElement("div",{key:c},s,"-",i,"H"))}return r.a.createElement("div",{className:"byte-offset",style:a},t)}function H(e){var t=e.fields,n=e.bitsPerRow,a=e.byteCount;return L(t,n,a).map(function(e){return r.a.createElement(q,{key:e.low,low:e.low,high:e.high,bitsPerRow:n},isNaN(e.fieldIdx)?r.a.createElement("div",{className:"field-fragment-rsvd"},"Rsvd"):r.a.createElement("div",{className:"field-fragment"},r.a.createElement(F.a,{placement:"top",title:"[".concat(t[e.fieldIdx].bits[1],":").concat(t[e.fieldIdx].bits[0],"] ").concat(t[e.fieldIdx].meaning)},t[e.fieldIdx].name)))})}function X(e){var t=Object(a.useState)(NaN),n=Object(u.a)(t,2),c=n[0],i=n[1],s=e.fields,o=e.activeKey,l=e.selectedBits,d=L(s,e.bitsPerRow,e.byteCount),f=1===l.length?function(e){for(var t=d.findIndex(function(t){return t.low<=e&&e<=t.high}),n=d[t],a=n.low,r=n.high,c=t-1;c>=0&&(isNaN(d[c].fieldIdx)||d[c].fieldIdx===o);c--)a=d[c].low;for(var i=t+1;i<d.length&&(isNaN(d[i].fieldIdx)||d[i].fieldIdx===o);i++)r=d[i].high;return[a,r]}(l[0]):null,m=function(e){var t=Object(p.a)(l);return 1===t.length&&(t.push(isNaN(c)?t[0]:c),t.sort(function(e,t){return e-t})),e>=t[0]&&e<=t[1]};return d.map(function(t){return r.a.createElement(K,{key:t.low,low:t.low,high:t.high,cellWidth:e.cellWidth,bitsPerRow:e.bitsPerRow,byteCount:e.byteCount,field:s[t.fieldIdx],onClick:e.onClick,onHover:i,shouldHighlight:m,interactiveBitRange:f,breakToBits:isNaN(t.fieldIdx)||o===t.fieldIdx})})}function q(e){var t=function(e,t){return[Math.floor(e/t)+1,t-e%t]},n=t(e.low,e.bitsPerRow),a=Object(u.a)(n,2),c=a[0],i=a[1],s=t(e.high,e.bitsPerRow),o=Object(u.a)(s,2),l=o[0],d=o[1],f={gridArea:"".concat(c," / ").concat(d," / ").concat(l+1," / ").concat(i+1)};return r.a.createElement("div",{style:f}," ",e.children," ")}function K(e){var t={low:e.low,high:e.high,bitsPerRow:e.bitsPerRow},n=function(t){return!e.interactiveBitRange||e.interactiveBitRange[0]<=t&&t<=e.interactiveBitRange[1]};return e.breakToBits?Object(p.a)(Array(e.high-e.low+1).keys()).map(function(t){return r.a.createElement(M,{key:t,pos:t+e.low,bitsPerRow:e.bitsPerRow,highlight:e.shouldHighlight(t+e.low),onClick:n(t+e.low)?function(){return e.onClick("bit",t+e.low)}:function(){},onHover:n(t+e.low)?e.onHover:function(){}})}):r.a.createElement(q,t,r.a.createElement(F.a,{placement:"top",title:"[".concat(Math.min(8*e.byteCount-1,e.field.bits[1]),":").concat(e.field.bits[0],"] ").concat(e.field.meaning)},r.a.createElement("div",{className:"field-fragment",style:{height:e.cellWidth},onClick:function(){return e.onClick("field",e.field)}},e.field.name)))}function M(e){var t={low:e.pos,high:e.pos,bitsPerRow:e.bitsPerRow};return r.a.createElement(q,t,r.a.createElement("div",{className:"bit".concat(e.highlight?" highlight":""),onClick:function(){return e.onClick("bit",e.pos)},onMouseOver:function(){return e.onHover(e.pos)}},e.pos))}function $(e,t,n,a){for(var r=[];t<=n;){var c=Math.min(t|e-1,n);r.push({low:t,high:c,fieldIdx:a}),t=c+1}return r}function L(e,t,n){var a=[],r=0;return Object(p.a)(e).sort(function(e,t){return e.bits[0]-t.bits[0]}).forEach(function(n){r<n.bits[0]&&(a=[].concat(Object(p.a)(a),Object(p.a)($(t,r,n.bits[0]-1,NaN)))),a=[].concat(Object(p.a)(a),Object(p.a)($.apply(void 0,[t].concat(Object(p.a)(n.bits),[e.indexOf(n)])))),r=n.bits[1]+1}),r<8*n&&(a=[].concat(Object(p.a)(a),Object(p.a)($(t,r,8*n-1,NaN)))),a.filter(function(e){return e.high<8*n})}var G=n(47),U=n(446),J=n(461),Z=n(447),Y=n(451),Q=n(465),ee=n(466),te=n(122),ne=n(167),ae=n(100),re=n(163),ce=n(168),ie=n(139),se=n(227),oe=function(e){function t(e){var n;return Object(ie.a)(this,t),(n=Object(ne.a)(this,Object(ae.a)(t).call(this,e))).name="KeyExist",n}return Object(re.a)(t,e),t}(Object(ce.a)(Error)),le=(Object(ce.a)(Error),new function e(){var t=this;Object(ie.a)(this,e),this.subscribe=function(e,n){return n&&t.observers[n]?t.observers[n].push(e):Object.keys(t.observers).forEach(function(n){return t.observers[n].push(e)}),t},this.unsubscribe=function(e,n){var a=function(e,n){t.observers[n]=t.observers[n].filter(function(t){return t!==e})};return n&&t.observers[n]?a(e,n):Object.keys(t.observers).forEach(function(t){return a(e,t)}),t},this.notify=function(e){t.observers[e.type].forEach(function(t){return t(e)})},this.import=function(){var e=Object(l.a)(o.a.mark(function e(n){var a,r,c,i;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.dbPromise;case 2:return a=e.sent,r=a.transaction(t.storeName,"readwrite"),e.next=6,r.store.getAllKeys();case 6:return c=e.sent,(i=JSON.parse(n)).forEach(function(e){var t=(e.parent||"")+e.name;if(c.includes(t)){if("/"!==t)throw new oe(t)}else r.store.add(e,t)}),e.next=11,r.done;case 11:t.notify({type:"import",data:i});case 12:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),this.export=function(){var e=Object(l.a)(o.a.mark(function e(n){var a,r,c,i,s,l,u,d,f,m;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.dbPromise;case 2:return a=e.sent,r=a.transaction(t.storeName),e.next=6,r.store.getAllKeys();case 6:e.t0=function(e){return e.startsWith(n)||n.startsWith(e)},c=e.sent.filter(e.t0).sort(),i=[],s=!0,l=!1,u=void 0,e.prev=12,d=c[Symbol.iterator]();case 14:if(s=(f=d.next()).done){e.next=24;break}return m=f.value,e.t1=i,e.next=19,r.store.get(m);case 19:e.t2=e.sent,e.t1.push.call(e.t1,e.t2);case 21:s=!0,e.next=14;break;case 24:e.next=30;break;case 26:e.prev=26,e.t3=e.catch(12),l=!0,u=e.t3;case 30:e.prev=30,e.prev=31,s||null==d.return||d.return();case 33:if(e.prev=33,!l){e.next=36;break}throw u;case 36:return e.finish(33);case 37:return e.finish(30);case 38:return e.abrupt("return",i);case 39:case"end":return e.stop()}},e,null,[[12,26,30,38],[31,,33,37]])}));return function(t){return e.apply(this,arguments)}}(),this.count=Object(l.a)(o.a.mark(function e(){var n,a;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.dbPromise;case 2:return n=e.sent,e.next=5,n.count(t.storeName);case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}},e)})),this.getAllKeys=Object(l.a)(o.a.mark(function e(){var n,a;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.dbPromise;case 2:return n=e.sent,e.next=5,n.getAllKeys(t.storeName);case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}},e)})),this.getChildren=function(){var e=Object(l.a)(o.a.mark(function e(n){var a,r,c,i;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.dbPromise;case 2:return a=e.sent,r=a.transaction(t.storeName,"readonly"),c=r.store.index("parent"),e.next=7,c.getAll(n);case 7:return(i=e.sent).sort(function(e,t){return parseInt(e.offset,16)-parseInt(t.offset,16)}),e.abrupt("return",i);case 10:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),this.getHierarchy=Object(l.a)(o.a.mark(function e(){var n,a,r,c,i;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.dbPromise;case 2:return n=e.sent,a=n.transaction(t.storeName),r=a.store.index("parent"),c=function(){var e=Object(l.a)(o.a.mark(function e(t,n){var a,i,s,l,u,d,f,m,p,h;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.getAll(t);case 2:(a=e.sent).sort(function(e,t){return parseInt(e.offset,16)-parseInt(t.offset,16)}),i=[],s=!0,l=!1,u=void 0,e.prev=8,d=a[Symbol.iterator]();case 10:if(s=(f=d.next()).done){e.next=20;break}return m=f.value,p=m.parent+m.name,e.next=15,c(p,m.name);case 15:h=e.sent,i.push(h);case 17:s=!0,e.next=10;break;case 20:e.next=26;break;case 22:e.prev=22,e.t0=e.catch(8),l=!0,u=e.t0;case 26:e.prev=26,e.prev=27,s||null==d.return||d.return();case 29:if(e.prev=29,!l){e.next=32;break}throw u;case 32:return e.finish(29);case 33:return e.finish(26);case 34:return e.abrupt("return",{name:n,children:i});case 35:case"end":return e.stop()}},e,null,[[8,22,26,34],[27,,29,33]])}));return function(t,n){return e.apply(this,arguments)}}(),e.next=8,c("/");case 8:return i=e.sent,e.abrupt("return",i.children);case 10:case"end":return e.stop()}},e)})),this.get=function(){var e=Object(l.a)(o.a.mark(function e(n){var a,r;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.dbPromise;case 2:return a=e.sent,e.next=5,a.get(t.storeName,n);case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),this.add=function(){var e=Object(l.a)(o.a.mark(function e(n){var a,r,c;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.parent+n.name,e.next=3,t.dbPromise;case 3:return r=e.sent,c=r.transaction(t.storeName,"readwrite"),e.next=7,c.store.getKey(a);case 7:if(!e.sent){e.next=9;break}throw new oe(a);case 9:return c.store.add(n,a),e.next=12,c.done;case 12:t.notify({type:"add",data:n});case 13:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),this.set=function(){var e=Object(l.a)(o.a.mark(function e(n,a){var r,c,i,s,l,u;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("/"!==n){e.next=2;break}throw Error("Root entry is readonly");case 2:return e.next=4,t.dbPromise;case 4:return r=e.sent,c=r.transaction(t.storeName,"readwrite"),e.next=8,c.store.get(n);case 8:if(i=e.sent,s=Object(f.a)({},i,a),l=s.parent+s.name,n!==l){e.next=15;break}c.store.put(s,n),e.next=34;break;case 15:if(!l.startsWith(n)){e.next=17;break}throw Error("You cannot rename ".concat(n," to ").concat(l));case 17:return e.next=19,c.store.getKey(l);case 19:if(!e.sent){e.next=21;break}throw new oe(l);case 21:if(c.store.delete(n),c.store.add(s,l),!l.endsWith("/")){e.next=34;break}return e.next=26,c.store.openCursor();case 26:u=e.sent;case 27:if(!u){e.next=34;break}return u.key.startsWith(n)&&(c.store.add(Object(f.a)({},u.value,{parent:u.value.parent.replace(n,l)}),u.key.replace(n,l)),u.delete()),e.next=31,u.continue();case 31:u=e.sent,e.next=27;break;case 34:return e.next=36,c.done;case 36:t.notify({type:"update",oldData:i,newData:s});case 37:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),this.delete=function(){var e=Object(l.a)(o.a.mark(function e(n){var a,r,c,i;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.dbPromise;case 2:return a=e.sent,r=a.transaction(t.storeName,"readwrite"),c=[],e.next=7,r.store.openCursor();case 7:i=e.sent;case 8:if(!i){e.next=18;break}if(!i.key.startsWith(n)){e.next=13;break}return c.push(i.key),e.next=13,i.delete();case 13:return e.next=15,i.continue();case 15:i=e.sent,e.next=8;break;case 18:return e.next=20,r.done;case 20:t.notify({type:"delete",deletedKeys:c});case 21:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),this.reset=Object(l.a)(o.a.mark(function e(){var n,a;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.dbPromise;case 2:return n=e.sent,(a=n.transaction(t.storeName,"readwrite")).store.clear(),a.store.add({name:"/",offset:"0"},"/"),e.next=8,a.done;case 8:case"end":return e.stop()}},e)})),this.parse=function(e){var t=e.reduce(function(e,t){var n=(t.parent||"")+t.name;return e[n]?e[n].node=t:e[n]={node:t,children:[]},t.parent&&(e[t.parent]?e[t.parent].children.push(n):e[t.parent]={children:[n]}),e},[]);return function e(n){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;n.address=a+parseInt(n.node.offset,16),n.children.forEach(function(a){e(t[a],n.address)})}(t["/"]),t},window.indexedDB?(this.observers={add:[],update:[],delete:[],import:[]},this.dbName="NnRegView",this.storeName="store",this.dbPromise=Object(se.a)(this.dbName,1,{upgrade:function(e){e.objectStoreNames.contains("store")||e.createObjectStore("store").createIndex("parent","parent",{unique:!1})}})):window.alert("Your browser doesn't support a stable version of IndexedDB.")}),ue=n(456);function de(e){var t=[e.value,e.onChange,e.except],n=t[0],c=t[1],i=t[2],s=Object(a.useState)([]),d=Object(u.a)(s,2),m=d[0],h=d[1],b=function(){var e=Object(l.a)(o.a.mark(function e(){var t,n;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,le.getHierarchy();case 2:t=e.sent,n=v(t,"/"),h([Object(f.a)({value:"/",label:"/"},n.length&&{children:n})]);case 5:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),v=function e(t,n){return t.filter(function(e){return e.name.endsWith("/")&&(!i||n+e.name!==i)}).map(function(t){var a=e(t.children,n+t.name);return Object(f.a)({value:t.name,label:t.name.slice(0,-1)},a.length&&{children:a})})};return Object(a.useEffect)(function(){b()},[]),r.a.createElement(ue.a,{allowClear:!1,changeOnSelect:!0,displayRender:function(e,t){return e.length?[""].concat(Object(p.a)(e.slice(1)),[""]).join(" / "):""},options:m,value:function(e){return e?"/"===e?["/"]:e.split("/").slice(0,-1).map(function(e){return e+"/"}):[]}(n),onChange:function(e){return c(e.join(""))}})}function fe(e){if("number"===typeof e)return e;var t=e.trim();return t.match(/^[1-9]\d*$/)?parseInt(t,10):t.match(/^0[0-7]*$/)?parseInt(t,8):t.match(/^0x[0-9a-f]+$/i)?parseInt(t,16):t.match(/^[0-9a-f]+h$/i)?parseInt(t.slice(0,-1),16):t.match(/^0b[01]+$/i)?t.slice(2).split("").reduce(function(e,t){return e<<1|t},0):NaN}function me(e){return e?"/"===e?[void 0,"/"]:e.match(/^(.*\/)(.+)$/).slice(1,3):[void 0,void 0]}n(307);var pe=64,he={bits:[],name:"",meaning:"",value:[]};function be(e){var t=e.form,n=e.parent,c=e.activePath,i=e.reg,s=e.onFinish,u=Object(f.a)({},i||{parent:n,size:"4",fields:[]},{fieldCtrl:I,newField:he});Object(a.useEffect)(function(){c&&le.get(c).then(function(e){console.log(e),t.setFieldsValue({offset:(parseInt(e.offset,16)+parseInt(e.size,10)).toString(16).toUpperCase(),size:e.size})})},[]);var d=function(){var e=Object(l.a)(o.a.mark(function e(n){var a,r,c;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=isNaN(n),r=a?["newField"]:["fields",n],e.next=4,t.validateFields([r]);case 4:c=e.sent,t.setFieldsValue(Object(f.a)({fieldCtrl:I},a&&{fields:[].concat(Object(p.a)(t.getFieldValue(["fields"])),[c.newField]).sort(function(e,t){return e.bits[0]-t.bits[0]}),newField:he}));case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(l.a)(o.a.mark(function e(t){var n,a,r,c,l,u;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.fieldCtrl,a=t.fields,r=t.newField,c=Object(m.a)(t,["fieldCtrl","fields","newField"]),l=Object(f.a)({},c,{fields:a||[]}),"adding"===n.mode&&l.fields.push(r),l.fields.sort(function(e,t){return e.bits[0]-t.bits[0]}),u=8*l.size-1,l.fields=l.fields.filter(function(e){return e.bits[0]<=u}).map(function(e){return{bits:[e.bits[0],Math.min(u,e.bits[1])],name:e.name,meaning:e.meaning,value:e.value}}),!i){e.next=11;break}return e.next=9,le.set(i.parent+i.name,l);case 9:e.next=13;break;case 11:return e.next=13,le.add(l);case 13:s();case 14:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(w.a,{form:t,colon:!1,layout:"vertical",initialValues:u,onFinish:h},r.a.createElement(y.a,{gutter:24},r.a.createElement(G.a,{span:6},r.a.createElement(w.a.Item,{label:"Name",name:"name",validateFirst:!0,rules:[{required:!0,whitespace:!0,message:"required"},{pattern:/^[a-z][a-z0-9_ ]*$/i,message:"invalid"}]},r.a.createElement(T.a,{allowClear:!0}))),r.a.createElement(G.a,{span:10},r.a.createElement(w.a.Item,{label:"Group",name:"parent",validateFirst:!0,rules:[{required:!0,whitespace:!0,message:"required"},{pattern:/^\/[/a-zA-Z0-9_ ]*$/,message:"invalid"}]},r.a.createElement(de,null))),r.a.createElement(G.a,{span:4},r.a.createElement(w.a.Item,{label:"Offset",name:"offset",validateFirst:!0,rules:[{required:!0,whitespace:!0,message:"required"},{pattern:/^[0-9a-f]+$/i,message:"not a hex number"}]},r.a.createElement(T.a,{addonBefore:"0x",allowClear:!0}))),r.a.createElement(G.a,{span:4},r.a.createElement(w.a.Item,{label:"Size",name:"size",validateFirst:!0,rules:[{required:!0,whitespace:!0,message:"required"},{pattern:/^[0-9]+$/,message:"not an integer"},{validator:function(e,t){return t-1&t?Promise.reject("not power of 2"):t<1||t>pe?Promise.reject("not in range [1, ".concat(pe,"]")):Promise.resolve()}}]},r.a.createElement(T.a,{allowClear:!0})))),r.a.createElement(w.a.Item,{label:"Summary",name:"desc_short",validateFirst:!0,rules:[{required:!0,whitespace:!0,message:"required"}]},r.a.createElement(T.a,{allowClear:!0})),r.a.createElement(w.a.Item,{label:"Detail",name:"desc_long"},r.a.createElement(T.a.TextArea,{rows:4})),r.a.createElement(ve,{commitField:d}),r.a.createElement(ge,{commitField:d}))}function ve(e){return r.a.createElement(w.a.Item,{noStyle:!0,shouldUpdate:function(e,t){if(e.size!==t.size)return!0;var n=[e.fields,t.fields],a=n[0],r=n[1];if(a.length!==r.length)return!0;for(var c=0;c<a.length;c++)if(a[c].bits[0]!==r[c].bits[0]||a[c].bits[1]!==r[c].bits[1]||0!==a[c].name.localeCompare(r[c].name)||0!==a[c].meaning.localeCompare(r[c].meaning))return!0;return!1}},function(t){var n=t.getFieldValue("size");return r.a.createElement(y.a,{type:"flex",justify:"center",style:{marginBottom:24,paddingBottom:8}},r.a.createElement(w.a.Item,{name:"fieldCtrl"},r.a.createElement(B,{cellWidth:30,bitsPerRow:16,byteCount:n,form:t,commitField:e.commitField})))})}function ge(e){return r.a.createElement(w.a.Item,{noStyle:!0,shouldUpdate:function(e,t){var n=[e.fieldCtrl,t.fieldCtrl],a=n[0],r=n[1];if(a.mode!==r.mode||a.activeKey!==r.activeKey||a.selectedBits.length!==r.selectedBits.length)return!0;for(var c=0;c<a.selectedBits.length;c++)if(a.selectedBits[c]!==r.selectedBits[c])return!0;return!1}},function(t){var n=t.getFieldValue("fields").map(function(n,a){return r.a.createElement(ye,{key:a,form:t,fieldIdx:a,commitField:e.commitField})});return r.a.createElement(r.a.Fragment,null,n,r.a.createElement(ye,{form:t,fieldIdx:NaN,commitField:e.commitField}))})}function ye(e){var t=e.form,n=e.fieldIdx,a=t.getFieldValue(["fieldCtrl"]),c=isNaN(n),i=c?["newField"]:["fields",n],s="editing"===a.mode&&a.activeKey===n||!("adding"!==a.mode||!c),o=s?[{required:!0,whitespace:!0,message:"required"},{pattern:/^[a-zA-Z][a-zA-Z0-9_ ]*$/,message:"invalid"}]:[],l=function(){e.commitField(n)},u=function(){t.setFieldsValue({fields:t.getFieldValue("fields").filter(function(e,t){return t!==n}),fieldCtrl:I,newField:he})};return r.a.createElement(J.a,{style:s?{}:{display:"none"},size:"small",title:c?"Add Field":"Edit Field",extra:r.a.createElement(r.a.Fragment,null,r.a.createElement(function(){return r.a.createElement(g.a,{type:"link",icon:r.a.createElement(Q.a,null),disabled:2!==a.selectedBits.length,onClick:l})},null),r.a.createElement(function(){return c?r.a.createElement(g.a,{type:"link",icon:r.a.createElement(ee.a,null),onClick:u}):r.a.createElement(U.a,{title:"Are you sure to delete this field?",okText:"Yes",cancelText:"No",onConfirm:u},r.a.createElement(g.a,{type:"link",icon:r.a.createElement(A.a,null)}))},null))},r.a.createElement(w.a.Item,{name:[].concat(i,["bits",0]),style:{display:"none"}},r.a.createElement(T.a,null)),r.a.createElement(w.a.Item,{name:[].concat(i,["bits",1]),style:{display:"none"}},r.a.createElement(T.a,null)),r.a.createElement(w.a.Item,{label:"Field Name",name:[].concat(i,["name"]),rules:o},r.a.createElement(T.a,{allowClear:!0})),r.a.createElement(w.a.Item,{label:"Field Description",name:[].concat(i,["meaning"])},r.a.createElement(T.a.TextArea,{rows:1})),r.a.createElement(Z.a,{orientation:"left"},"Named Constants"),r.a.createElement(Ee,{form:t,fieldPath:i}))}function Ee(e){var t=e.form,n=e.fieldPath;return r.a.createElement(w.a.List,{name:[].concat(Object(p.a)(n),["value"])},function(e,a){var c=a.add,i=a.remove,s=t.getFieldValue([].concat(Object(p.a)(n),["value"]));return r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,null,r.a.createElement(_e,{add:c,constants:s})),r.a.createElement("div",null,r.a.createElement(y.a,{className:"constants-container"},e.map(function(e,t){return r.a.createElement(Pe,{key:e.key,name:s[e.name].name,value:fe(s[e.name].value),closable:!0,onClose:function(){return i(e.name)},style:{marginTop:8}})}))))})}function _e(e){var t=e.add,n=e.constants,c=Object(a.useState)(),i=Object(u.a)(c,2),s=i[0],o=i[1],l=Object(a.useState)(),d=Object(u.a)(l,2),f=d[0],m=d[1],p=Object(a.useState)(),b=Object(u.a)(p,2),v=b[0],y=b[1],E=new te.a({name:[{required:!0,whitespace:!0,message:"* Name is required"},{pattern:/^[a-z][0-9a-z]*$/i,message:"* Invalid Name"},{validator:function(e,t){return!n||!n.some(function(e){return e.name===t.trim()})},message:"* Name already in use"}],value:[{required:!0,whitespace:!0,message:"* Value is required"},{validator:function(e,t){return function(e){if("number"===typeof e)return!0;var t=e.trim();return!!(t.match(/^[1-9]\d*$/)||t.match(/^0[0-7]*$/)||t.match(/^0x[0-9a-f]+$/i)||t.match(/^[0-9a-f]+h$/i)||t.match(/^0b[01]+$/i))}(t)},message:"* Value is not a valid decimal, hex, octal or binary number"}]});return r.a.createElement(T.a.Group,{compact:!0,style:{marginBottom:16}},r.a.createElement(T.a,{placeholder:"Name",id:"constant-left",onInput:function(e){return o(e.target.value)},value:s}),r.a.createElement(T.a,{placeholder:"\u2261",disabled:!0,id:"constant-middle"}),r.a.createElement(T.a,{placeholder:"Value",id:"constant-right",onInput:function(e){return m(e.target.value)},value:f}),r.a.createElement(g.a,{type:"primary",onClick:function(){E.validate({name:s,value:f},{first:!0,firstFields:!0}).then(function(){t({name:s.trim(),value:f}),o(),m(),y()}).catch(function(e){var t=e.errors;e.fields,y(t[0].message)})}},"Add"),r.a.createElement(h.a.Text,{type:"danger",className:"constant-error"},v))}function Oe(e){var t=e.parent,n=e.activePath,a=e.reg,c=e.title,i=e.hide,s=w.a.useForm(),o=Object(u.a)(s,1)[0],l={title:c,width:960,visible:!0,maskClosable:!1,onOk:o.submit,onCancel:i};return r.a.createElement(Y.a,l,r.a.createElement(be,{form:o,parent:t,activePath:n,reg:a,onFinish:i}))}n(406);function xe(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!==typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}var we=h.a.Title,Ne=h.a.Paragraph;function je(e){var t=e.path,n=Object(a.useState)(),c=Object(u.a)(n,2),i=c[0],s=c[1],d=function(){var e=Object(l.a)(o.a.mark(function e(t){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=s,e.next=3,le.get(t);case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)(function(){d(t)},[t]),Object(a.useEffect)(function(){var e=function(e){var n=e.oldData,a=e.newData;t===n.parent+n.name&&d(a.parent+a.name)};return le.subscribe(e,"update"),function(){le.unsubscribe(e,"update")}},[]),i?r.a.createElement(Te,{data:i}):r.a.createElement(b.a,{active:!0,paragraph:{rows:8}})}function Te(e){var t=e.data,n=Object(a.useState)(!1),c=Object(u.a)(n,2),i=c[0],s=c[1],o=Object(p.a)(t.fields).reverse(),l=function(){var e=(t.parent+t.name).split("/").filter(function(e){return""!==e});return r.a.createElement(v.a,null,e.map(function(e,t){return r.a.createElement(v.a.Item,{key:t},e)}))};return r.a.createElement("div",{className:"reg-content"},r.a.createElement(function(){return r.a.createElement("article",null,r.a.createElement("header",null,r.a.createElement(l,null),r.a.createElement("div",{className:"title-container"},r.a.createElement(we,{level:4},t.desc_short,r.a.createElement("span",{className:"address"},"Size: ",t.size),r.a.createElement("span",{className:"address"},"Offset: 0x",t.offset.toUpperCase())),r.a.createElement(g.a,{icon:r.a.createElement(k.a,null),onClick:function(){return s(!0)}},"Edit"))),r.a.createElement("main",null,r.a.createElement(Ne,null,t.desc_long)))},null),r.a.createElement(y.a,{type:"flex",justify:"center",style:{marginBottom:24,paddingBottom:8}},r.a.createElement(Ce,{byteCount:t.size,fields:t.fields||[]})),r.a.createElement(E.a,{defaultActiveKey:"1"},r.a.createElement(E.a.TabPane,{tab:"Fields",key:"1"},r.a.createElement(ke,{fields:o})),r.a.createElement(E.a.TabPane,{tab:"Encoder",key:"2"},r.a.createElement(Ie,{path:t.parent+t.name,fields:o})),r.a.createElement(E.a.TabPane,{tab:"Decoder",key:"3"},r.a.createElement(Be,{path:t.parent+t.name,fields:o}))),i&&r.a.createElement(Oe,{parent:t.parent,reg:t,title:"Edit Register",hide:function(){return s(!1)}}))}function Ce(e){var t=e.byteCount,n=e.fields,c=window.matchMedia("(min-width: ".concat(920,"px)")),i=window.matchMedia("(min-width: ".concat(1400,"px)")),s=Object(a.useState)(c.matches),o=Object(u.a)(s,2),l=o[0],d=o[1],f=Object(a.useState)(i.matches),m=Object(u.a)(f,2),p=m[0],h=m[1],b=function(e){return d(e.matches)},v=function(e){return h(e.matches)};Object(a.useEffect)(function(){return c.addListener(b),i.addListener(v),function(){c.removeListener(b),i.removeListener(v)}},[]);return r.a.createElement(R,{cellWidth:30,bitsPerRow:p?32:l?16:8,byteCount:t,fields:n})}function ke(e){var t=e.fields,n=[{key:"name",title:"Name",dataIndex:"name"},{key:"bits",title:"Bits",dataIndex:"bits",width:60,render:function(e){return"".concat(e[1]," : ").concat(e[0])}},{key:"meaning",title:"Meaning",dataIndex:"meaning",render:function(e,t){return r.a.createElement(r.a.Fragment,null,e||"N/A",r.a.createElement("br",null),t.value&&t.value.map(function(e,t){return r.a.createElement(Pe,{key:t,name:e.name,value:fe(e.value)})}))}}];return r.a.createElement(_.a,{rowKey:"name",dataSource:t,columns:n,pagination:!1,size:"small"})}function Ae(e){var t=e.name,n=e.value,a=e.hex,c=Object(m.a)(e,["name","value","hex"]);return r.a.createElement(O.a,Object.assign({color:a?"green":"blue"},c),t," \u2261 ",a?"0x"+n.toString(16).toUpperCase():n)}function Pe(e){var t=e.hex,n=e.className,c=Object(m.a)(e,["hex","className"]),i=Object(a.useState)(t),s=Object(u.a)(i,2),o=s[0],l=s[1],d=Object(f.a)({},c,{hex:o,className:n?n+" with-hover-pointer":"with-hover-pointer",onClick:function(t){e.onClick&&e.onClick(t),l(!o)},style:{marginTop:8}});return r.a.createElement(Ae,d)}function Se(e){var t=e.dot,n=Object(m.a)(e,["dot"]);return r.a.createElement(x.a,{dot:!0,count:t?1:0},r.a.createElement(Ae,n))}function De(e){var t=e.dot,n=e.hex,a=e.value;return r.a.createElement(x.a,{dot:!0,count:t?1:0},r.a.createElement("span",{style:{marginRight:"8px"}},n?"0x"+a.toString(16).toUpperCase():a))}function Fe(e){return r.a.createElement(h.a.Text,{code:!0},e.children)}function Ie(e){var t=e.path,n=e.fields,c=w.a.useForm(),i=Object(u.a)(c,1)[0],s=Object(a.useState)({}),o=Object(u.a)(s,2),l=o[0],h=o[1],b=Object(a.useState)(0),v=Object(u.a)(b,2),y=v[0],E=v[1];Object(a.useEffect)(function(){l.hasOwnProperty(t)||(l[t]=[])},[t]);var O=function(e){var n=e.index;return r.a.createElement(g.a,{type:"link",icon:r.a.createElement(A.a,null),onClick:function(){return function(e){h(Object(f.a)({},l,Object(d.a)({},t,l[t].filter(function(t){return t.idx!==e}))));var n=i.getFieldsValue(),a=(n[e],Object(m.a)(n,[e].map(xe)));i.setFieldsValue(a)}(n)}})},x=[{key:"value",title:r.a.createElement(P.a,null),onCell:function(e){return{path:t,fields:n,index:e.idx,name:"value",form:i}}}].concat(Object(p.a)(n.map(function(e,a){return{key:a,title:e.name,onCell:function(a){return{path:t,fields:n,index:a.idx,name:"_"+e.name,form:i}}}})),[{key:"action",title:r.a.createElement(S.a,null),align:"center",render:function(e,t){return r.a.createElement(O,{index:t.idx})}}]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(g.a,{onClick:function(){h(Object(f.a)({},l,Object(d.a)({},t,[].concat(Object(p.a)(l[t]),[{key:y,idx:y}])))),i.setFieldsValue(Object(d.a)({},t,Object(d.a)({},y,Object(f.a)({},n.map(function(e){return Object(d.a)({},"_"+e.name,0)}),{value:0})))),E(y+1)}},"Add Row"),r.a.createElement(w.a,{form:i},r.a.createElement(_.a,{dataSource:l[t],columns:x,components:{body:{cell:Re}},pagination:!1,size:"small",style:{marginTop:"16px"}}),r.a.createElement(N.a,{bordered:!1},r.a.createElement(N.a.Panel,{header:"About input format..."},r.a.createElement("p",null,"Following number formats are accepted. They are case insensitive. Invalid inputs are treated as zero."),r.a.createElement("ul",null,r.a.createElement("li",null,"Decimal: ",r.a.createElement(Fe,null,"1024")),r.a.createElement("li",null,"Hex: ",r.a.createElement(Fe,null,"0x87d")," or ",r.a.createElement(Fe,null,"87dh")),r.a.createElement("li",null,"Octal: ",r.a.createElement(Fe,null,"046")),r.a.createElement("li",null,"Binary: ",r.a.createElement(Fe,null,"0b1101")))))))}function Re(e){var t=e.path,n=e.fields,a=e.index,c=e.name,i=e.form,s=e.children,o=Object(m.a)(e,["path","fields","index","name","form","children"]),l=function(e){var n=i.getFieldValue([t,a]);i.setFieldsValue(Object(d.a)({},t,Object(d.a)({},a,Object(f.a)({row:n},e))))},u=i?r.a.createElement(w.a.Item,{name:[t,a,c],style:{margin:0}},r.a.createElement(j.a,{options:function(){if(!n||"value"===c)return[];var e=n.find(function(e){return"_"+e.name===c});return e&&e.value?e.value.map(function(e){var t=e.name,n=e.value;return{value:n,label:r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},r.a.createElement("span",null,t),r.a.createElement("span",null,"\u2261 ",n))}}):[]}(),onChange:"value"===c?function(e){var r=fe("0x"+i.getFieldValue([t,a]).value)||0;l(n.reduce(function(e,t){var n=t.bits[0],a=(1<<t.bits[1]-t.bits[0]+1)-1,c="_"+t.name,i=r>>n&a;return Object(f.a)({},e,Object(d.a)({},c,i))},{}))}:function(e){var r=i.getFieldValue([t,a]);l({value:n.reduce(function(e,t){var n=t.bits[0],a=(1<<t.bits[1]-t.bits[0]+1)-1,c="_"+t.name;return e|((fe(r[c]||"0")||0)&a)<<n},0).toString(16).toUpperCase()})}},r.a.createElement(T.a,{addonBefore:"value"===c?"0x":"",style:"value"===c?{width:"140px"}:{}}))):s;return r.a.createElement("td",o,u)}function Be(e){var t=e.path,n=e.fields,c=w.a.useForm(),i=Object(u.a)(c,1)[0],s=Object(a.useState)({}),o=Object(u.a)(s,2),l=o[0],m=o[1],h=Object(a.useState)(NaN),b=Object(u.a)(h,2),v=b[0],y=b[1];Object(a.useEffect)(function(){l.hasOwnProperty(t)||(l[t]={source:[],pin:0,showHex:n.reduce(function(e,t){return Object(f.a)({},e,Object(d.a)({},t.name,!1))},{})}),y(NaN)},[t]);var E=n.reduce(function(e,t){return Object(f.a)({},e,Object(d.a)({},t.name,t.value))},{}),O=function(e){return n.reduce(function(t,n){var a="_"+n.name,r=e>>n.bits[0]&(1<<n.bits[1]-n.bits[0]+1)-1;return Object(f.a)({},t,Object(d.a)({},a,r))},{})},x=function(e){var n=e.value;i.resetFields(),m(Object(f.a)({},l,Object(d.a)({},t,Object(f.a)({},l[t],{source:[].concat(Object(p.a)(l[t].source),[Object(f.a)({key:l[t].source.length,value:n},O(parseInt(n,16)))])}))))},N=function(e){var n=e.index;return l[t]&&n===l[t].pin&&r.a.createElement(D.a,{twoToneColor:"#f50"})},j=function(e){var n=e.index;return r.a.createElement(g.a,{type:"link",icon:r.a.createElement(A.a,null),onClick:function(e){return function(e,n){e.stopPropagation(),y(NaN),m(Object(f.a)({},l,Object(d.a)({},t,Object(f.a)({},l[t],{source:l[t].source.filter(function(e,t){return t!==n}).map(function(e,t){return Object(f.a)({},e,{key:t})}),pin:l[t].pin<n?l[t].pin:Math.max(0,l[t].pin-1)}))))}(e,n)}})},k=function(e){var n=e.index,a=e.name,c=e.value,i="_"+a,s=l[t].showHex[a],o=l[t].source,u=l[t].pin,d=!isNaN(v)&&(n===u||n===v)&&o[u][i]!==o[v][i];if(E[a]){var f=E[a].find(function(e){return fe(e.value)==c});if(f)return r.a.createElement(Se,{className:"with-hover-pointer",dot:d,hex:s,name:f.name,value:fe(f.value)})}return r.a.createElement(De,{dot:d,hex:s,value:c})},F=[{key:"pin",align:"center",width:40,render:function(e,t,n){return r.a.createElement(N,{index:n})}},{key:"value",title:r.a.createElement(P.a,null),dataIndex:"value",render:function(e){return"0x"+e.toUpperCase()}}].concat(Object(p.a)(n.map(function(e,t){return{key:t,title:e.name,dataIndex:"_"+e.name,render:function(t,n,a){return r.a.createElement(k,{index:a,name:e.name,value:t})}}})),[{key:"action",title:r.a.createElement(S.a,null),align:"center",width:40,render:function(e,t,n){return r.a.createElement(j,{index:n})}}]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(function(){return r.a.createElement(w.a,{form:i,layout:"inline",onFinish:x},r.a.createElement(w.a.Item,{name:"value",validateFirst:!0,rules:[{required:!0,whitespace:!0,message:"required"},{pattern:/^[0-9a-f]+$/i,message:"not a hex number"}]},r.a.createElement(T.a,{addonBefore:"0x",allowClear:!0,autoFocus:!0})),r.a.createElement(w.a.Item,null,r.a.createElement(g.a,{type:"primary",htmlType:"submit"},"Add")))},null),r.a.createElement(_.a,{dataSource:l[t]&&l[t].source,columns:F,summary:function(){return r.a.createElement("tr",null,r.a.createElement("th",{colSpan:2,style:{padding:"8px"}},"Show Hex"),n.map(function(e,n){return r.a.createElement("td",{key:n,style:{padding:"8px"}},r.a.createElement(C.a,{onChange:function(n){var a;a=Object(f.a)({},l[t].showHex,Object(d.a)({},e.name,n.target.checked)),m(Object(f.a)({},l,Object(d.a)({},t,Object(f.a)({},l[t],{showHex:a}))))},checked:l[t]&&l[t].showHex[e.name]}))}),r.a.createElement("td",null))},pagination:!1,size:"small",style:{marginTop:"16px"},onRow:function(e,n){return{className:"with-hover-pointer",onClick:function(){return e=n,void m(Object(f.a)({},l,Object(d.a)({},t,Object(f.a)({},l[t],{pin:e}))));var e},onMouseEnter:function(){return y(n)},onMouseLeave:function(){return y(NaN)}}}}))}var Ve=n(457);n(426);function ze(e){var t=e.form,n=e.parent,a=e.grp,c=e.onFinish,i={labelCol:{span:4},wrapperCol:{span:20},form:t,initialValues:a?Object(f.a)({},a,{name:a.name.slice(0,-1)}):{parent:n},onFinish:function(){var e=Object(l.a)(o.a.mark(function e(t){var n;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n={name:t.name+"/",parent:t.parent,offset:t.offset},e.prev=1,!a){e.next=7;break}return e.next=5,le.set(a.parent+a.name,n);case 5:e.next=9;break;case 7:return e.next=9,le.add(n);case 9:c(),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),e.t0 instanceof oe?Ve.a.error(r.a.createElement("span",null,"Entry with key ",r.a.createElement(h.a.Text,{code:!0},e.t0.message)," is already exist")):Ve.a.error("".concat(e.t0.name,": ").concat(e.t0.message));case 15:case"end":return e.stop()}},e,null,[[1,12]])}));return function(t){return e.apply(this,arguments)}}()};return r.a.createElement(w.a,i,r.a.createElement(w.a.Item,{label:"Parent",name:"parent",rules:[{required:!0,message:"required"}]},r.a.createElement(de,{except:a?a.parent+a.name:null})),r.a.createElement(w.a.Item,{label:"Name",name:"name",validateFirst:!0,rules:[{required:!0,whitespace:!0,message:"required"},{pattern:/^[a-zA-Z][a-zA-Z0-9_ ]*$/,message:"invalid"}]},r.a.createElement(T.a,{allowClear:!0})),r.a.createElement(w.a.Item,{label:"Offset",name:"offset",validateFirst:!0,rules:[{required:!0,whitespace:!0,message:"required"},{pattern:/^[0-9a-f]+$/i,message:"not a hex number"}]},r.a.createElement(T.a,{addonBefore:"0x",allowClear:!0})))}function We(e){var t=e.parent,n=e.grp,a=e.title,c=e.hide,i=w.a.useForm(),s=Object(u.a)(i,1)[0],o={title:a,width:480,visible:!0,maskClosable:!1,onOk:s.submit,onCancel:c};return r.a.createElement(Y.a,o,r.a.createElement(ze,{form:s,parent:t,grp:n,onFinish:c}))}var He=n(59),Xe=function(e){return e.replace(/[^a-zA-Z0-9]+/gi," ").trim().split(" ").map(function(e){return e.charAt(0).toUpperCase()+(e===e.toUpperCase()?e.slice(1).toLowerCase():e.slice(1))}).join("")},qe=function(e){return Xe(e)+"Type"},Ke=function e(t,n,a){var r=t[n];a(r.node,r.address,r.children),r.children.forEach(function(n){return e(t,n,a)})},Me=function(e,t,n){Ke(e,t,function(e,t,a){e.name.endsWith("/")&&n(e,t,a)})},$e=function(e,t,n){Ke(e,t,function(e,t,a){e.name.endsWith("/")||n(e,t,a)})},Le=function(){var e=Object(l.a)(o.a.mark(function e(t){var n;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,le.export(t);case 2:return n=e.sent,e.abrupt("return",JSON.stringify(n,null,2));case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),Ge=function(){var e=Object(l.a)(o.a.mark(function e(t){var n,a;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n="",e.t0=le,e.next=4,le.export(t);case 4:return e.t1=e.sent,a=e.t0.parse.call(e.t0,e.t1),$e(a,"/",function(e){var t=Xe(e.name);n+="// ".concat(e.desc_short,"\n"),n+="NN_USB_DEFINE_REG_OFFSET ( ".concat(t,", ").concat(e.offset," );\n"),e.fields.forEach(function(e){var a=Xe(e.name);n+="NN_USB_DEFINE_FIELD32    ( ".concat(t,", ").concat(a,", ").concat(e.bits[1],", ").concat(e.bits[0]," );\n")}),n+="\n"}),e.abrupt("return",n);case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),Ue=function(){var e=Object(l.a)(o.a.mark(function e(t){var n,a,r,c,i,s;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n="",e.t0=le,e.next=4,le.export(t);case 4:return e.t1=e.sent,a=e.t0.parse.call(e.t0,e.t1),n+="/*--------------------------------------------------------------------------------*\n",n+="  Copyright (C)Nintendo All rights reserved.\n",n+="\n",n+="  These coded instructions, statements, and computer programs contain proprietary\n",n+="  information of Nintendo and/or its licensed developers and are protected by\n",n+="  national and international copyright laws. They may not be disclosed to third\n",n+="  parties or copied or duplicated in any form, in whole or in part, without the\n",n+="  prior written consent of Nintendo.\n",n+="\n",n+="  The content herein is highly confidential and should be handled accordingly.\n",n+=" *--------------------------------------------------------------------------------*/\n",n+="\n",n+="// NOLINT(build/header_guard)\n",n+="\n",r=function(e){try{var t=0,n=!0,a=!1,r=void 0;try{for(var c,i=e[Symbol.iterator]();!(n=(c=i.next()).done);n=!0){"/"===c.value&&(t+=1)}}catch(s){a=!0,r=s}finally{try{n||null==i.return||i.return()}finally{if(a)throw r}}return t}catch(s){return 0}},c=function(e){return e.slice(1,-1).split("/").filter(function(e){return""!==e}).map(function(e,t){return"M".concat(Xe(e),"<AddressPolicy").concat(t+1,">")}).join("::")},i=function(e){return Xe(me(e)[1])},s=function(e){return"M"+i(e)},"Register",n+="class ".concat("Register"," {\n"),n+="public:\n",n+="    static const uintptr_t g_Address = 0;\n",n+="\n",n+="private:\n",a["/"].children.forEach(function(e){n+="    template <template<uintptr_t> class AddressPolicy> class ".concat(s(e),";\n")}),n+="\n",n+="public:\n",a["/"].children.forEach(function(e){n+="\n",n+="    /*\n",n+="     * Child: ".concat(e,"\n"),n+="     */\n",n+="\n",n+="    template <template<uintptr_t> class AddressPolicy = Fixed>\n",n+="    static ".concat(s(e),"<AddressPolicy> ").concat(i(e),"();\n"),n+="\n",n+="    template <template<uintptr_t> class AddressPolicy>\n",n+="    static ".concat(s(e),"<AddressPolicy> ").concat(i(e),"(uintptr_t n);\n")}),n+="};\n",Me(a,"/",function(e,t,a){if(e.parent){var o=r(e.parent),l=o?s(e.parent+e.name):"Register",u="Register"+(c(e.parent)?"::"+c(e.parent):""),d="AddressPolicy".concat(o,"<0x").concat(t.toString(16),">");n+="\n",n+="/*\n",n+=" * ".concat((e.parent||"")+e.name,"\n"),n+=" *   - Base:    0x".concat((t-parseInt(e.offset,16)).toString(16),"\n"),n+=" *   - Offset:  0x".concat(e.offset,"\n"),n+=" *   - Address: 0x".concat(t.toString(16),"\n"),n+=" */\n";for(var f=1;f<=o;f++)n+="template <template<uintptr_t> class AddressPolicy".concat(f,">\n");n+="class ".concat(u,"::").concat(l," : public ").concat(d," {\n"),n+="public:\n",n+="    typedef ".concat(u," ParentType;\n"),n+="    typedef ".concat(d," BaseType;\n"),n+="    static const uintptr_t g_Offset = 0x".concat(e.offset,";\n"),n+="    static const uintptr_t g_Address = ParentType::g_Address + g_Offset;\n",n+="\n",n+="private:\n",a.forEach(function(e){n+="    template <template<uintptr_t> class AddressPolicy> class ".concat(s(e),";\n")}),n+="\n",n+="public:\n",n+="    explicit ".concat(l,"(uintptr_t n)\n"),n+="        : BaseType(n)\n",n+="    {\n",n+="    }\n",a.forEach(function(e){n+="\n",n+="    /*\n",n+="     * Child: ".concat(e,"\n"),n+="     */\n",n+="\n",n+="    template <template<uintptr_t> class AddressPolicy = Fixed>\n",n+="    ".concat(s(e),"<AddressPolicy> ").concat(i(e),"() const ;\n"),n+="\n",n+="    template <template<uintptr_t> class AddressPolicy>\n",n+="    ".concat(s(e),"<AddressPolicy> ").concat(i(e),"(uintptr_t n) const;\n"),n+="\n",n+="    template <>\n",n+="    ".concat(s(e),"<Fixed> ").concat(i(e),"() const\n"),n+="    {\n",n+="        return ".concat(s(e),"<Fixed>(this->GetAddress() - g_Address);\n"),n+="    }\n",n+="\n",n+="    template <>\n",n+="    ".concat(s(e),"<At> ").concat(i(e),"(uintptr_t address) const\n"),n+="    {\n",n+="        return ".concat(s(e),"<At>(address);\n"),n+="    }\n",n+="\n",n+="    template <>\n",n+="    ".concat(s(e),"<Offset> ").concat(i(e),"(uintptr_t offset) const\n"),n+="    {\n",n+="        return ".concat(s(e),"<Offset>(this->GetAddress() - g_Address + offset);\n"),n+="    }\n"}),n+="};\n"}}),$e(a,"/",function(e,t){var a=r(e.parent),i=s(e.parent+e.name),o="Register"+(c(e.parent)?"::"+c(e.parent):""),l="AddressPolicy".concat(a,"<0x").concat(t.toString(16),">");n+="\n",n+="/*\n",n+=" * ".concat(e.parent+e.name,"\n"),n+=" *   - Base:    0x".concat((t-parseInt(e.offset,16)).toString(16),"\n"),n+=" *   - Offset:  0x".concat(e.offset,"\n"),n+=" *   - Address: 0x".concat(t.toString(16),"\n"),n+=" */\n";for(var u=1;u<=a;u++)n+="template <template<uintptr_t> class AddressPolicy".concat(u,">\n");n+="class ".concat(o,"::").concat(i," : public ").concat(l," {\n"),n+="public:\n",n+="    typedef ".concat(o," ParentType;\n"),n+="    typedef ".concat(l," BaseType;\n"),n+="\n",n+="    static const uintptr_t g_Offset = 0x".concat(e.offset,";\n"),n+="    static const uintptr_t g_Address = ParentType::g_Address + g_Offset;\n",n+="    static const size_t    g_Size = ".concat(e.size,";\n"),n+="\n",n+="    typedef typename BaseTypeOfBytes<g_Size>::value ValueType;\n",n+="\n",n+="    class Data;\n",n+="\n",n+="public:\n",n+="    explicit ".concat(i,"(uintptr_t n)\n"),n+="        : BaseType(n)\n",n+="    {\n",n+="    }\n",n+="\n",n+="    Data Get() const\n",n+="    {\n",n+="        return Data(\n",n+="            *reinterpret_cast<volatile ValueType*>(this->GetAddress())\n",n+="        );\n",n+="    }\n",n+="\n",n+="    void Set(ValueType value)\n",n+="    {\n",n+="        *reinterpret_cast<volatile ValueType*>(this->GetAddress()) = value;\n",n+="    }\n",n+="};\n",n+="\n";for(var d=1;d<=a;d++)n+="template <template<uintptr_t> class AddressPolicy".concat(d,">\n");n+="class ".concat(o,"::").concat(i,"<AddressPolicy").concat(a,">::Data : public DataBase<ValueType> {\n"),n+="private:\n",n+="    ValueType m_Value;\n",n+="\n",e.fields.forEach(function(e){n+="    typedef Field<".concat(e.bits[0],", ").concat(e.bits[1],"> M").concat(Xe(e.name),";\n")}),n+="\n",n+="public:\n",n+="    explicit Data(ValueType value)\n",n+="        : m_Value(value)\n",n+="    {\n",n+="    }\n",n+="\n",n+="    NN_IMPLICIT operator ValueType() const\n",n+="    {\n",n+="        return m_Value;\n",n+="    }\n",e.fields.forEach(function(e){var t=Xe(e.name);n+="\n",n+="    template <typename T = void>\n",n+="    int ".concat(t,"() const\n"),n+="    {\n",n+="        return this->template Get<M".concat(t,">(m_Value);\n"),n+="    }\n",n+="\n",n+="    template <typename T = void>\n",n+="    Data& ".concat(t,"(int value)\n"),n+="    {\n",n+="        this->template Set<M".concat(t,">(m_Value, value);\n"),n+="        return *this;\n",n+="    }\n"}),n+="};\n"}),a["/"].children.forEach(function(e){n+="\n",n+="template <>\n",n+="".concat("Register","::").concat(s(e),"<Fixed> ").concat("Register","::").concat(i(e),"()\n"),n+="{\n",n+="    return ".concat(s(e),"<Fixed>(0);\n"),n+="}\n",n+="\n",n+="template <>\n",n+="".concat("Register","::").concat(s(e),"<At> ").concat("Register","::").concat(i(e),"(uintptr_t address)\n"),n+="{\n",n+="    return ".concat(s(e),"<At>(address);\n"),n+="}\n",n+="\n",n+="template <>\n",n+="".concat("Register","::").concat(s(e),"<Offset> ").concat("Register","::").concat(i(e),"(uintptr_t offset)\n"),n+="{\n",n+="    return ".concat(s(e),"<Offset>(offset);\n"),n+="}\n"}),e.abrupt("return",n);case 39:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),Je=[{handle:Le,description:"JSON",extension:".json"},{handle:function(){var e=Object(l.a)(o.a.mark(function e(t){var n,a,r,c,i,s;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n="",e.t0=le,e.next=4,le.export(t);case 4:return e.t1=e.sent,a=e.t0.parse.call(e.t0,e.t1),n+="/*--------------------------------------------------------------------------------*\n",n+="  Copyright (C)Nintendo All rights reserved.\n",n+="\n",n+="  These coded instructions, statements, and computer programs contain proprietary\n",n+="  information of Nintendo and/or its licensed developers and are protected by\n",n+="  national and international copyright laws. They may not be disclosed to third\n",n+="  parties or copied or duplicated in any form, in whole or in part, without the\n",n+="  prior written consent of Nintendo.\n",n+="\n",n+="  The content herein is highly confidential and should be handled accordingly.\n",n+=" *--------------------------------------------------------------------------------*/\n",n+="\n",n+="/**\n",n+=" * @file\n",n+=" * @brief Automatically generated Register Accessors\n",n+=" */\n",n+="\n",n+="// NOLINT(build/header_guard)\n",r=function(e){return Xe(me(e)[1])},c=function(e){var t=e.split("/").filter(function(e){return""!==e});return 0===t.length?"Register":qe(t[t.length-1])},i=function(e){return["Register"].concat(e.split("/").filter(function(e){return""!==e}).map(function(e){return qe(e)})).join("::")},s=function(e){return e.value&&e.value.length>0},n+="\n",n+="/**\n",n+=" * @class At\n",n+=" * @brief Address Policy Tag to apply an absolute runtime address\n",n+=" *\n",n+=" * @details\n",n+=" *   This is an incomplete type intended to be used as dispatch tag for template\n",n+=" *   methods. With this tag, the factory method to create a new instance of\n",n+=" *   group or register will interpreate its sole argument as the absolute\n",n+=" *   runtime address of such group or register.\n",n+=" */\n",n+="class At;\n",n+="\n",n+="/**\n",n+=" * @class Offset\n",n+=" * @brief Address Policy Tag to apply an extra address offset\n",n+=" *\n",n+=" * @details\n",n+=" *   This is an incomplete type intended to be used as dispatch tag for template\n",n+=" *   methods. With this tag, the factory method to create a new instance of\n",n+=" *   group or register will interpreate its sole argument as an address offset.\n",n+=" *   The runtime address of such group or register is calculated by adding\n",n+=" *   together:\n",n+=" *   -# runtime address of its parent\n",n+=" *   -# declare offset of itself\n",n+=" *   -# this extra offset\n",n+=" */\n",n+="class Offset;\n","Register",n+="\n",n+="/**\n",n+=" * @brief Top level class for the register accessors\n",n+=" *\n",n+=" * @details\n",n+=" *   This class represents the top level container of all groups and registers.\n",n+=" *   All of its data members and methods are static\n",n+=" */\n",n+="class ".concat("Register"," {\n"),n+="public:\n",n+="    /**\n",n+="     * @brief Declare Address\n",n+="     */\n",n+="    static const uintptr_t g_DeclareAddress = 0;\n",n+="    /**\n",n+="     * @brief Runtime Address\n",n+="     */\n",n+="    static const uintptr_t g_RuntimeAddress = 0;\n",n+="\n",a["/"].children.forEach(function(e){n+="    class ".concat(c(e),";\n")}),n+="\n",n+="private:\n",n+="    template <size_t N>\n",n+="    struct  BaseTypeOfBytes_;\n",n+="\n",n+="    template <>\n",n+="    struct BaseTypeOfBytes_<1> {\n",n+="        typedef uint8_t value;\n",n+="    };\n",n+="\n",n+="    template <>\n",n+="    struct BaseTypeOfBytes_<2> {\n",n+="        typedef uint16_t value;\n",n+="    };\n",n+="\n",n+="    template <>\n",n+="    struct BaseTypeOfBytes_<4> {\n",n+="        typedef uint32_t value;\n",n+="    };\n",n+="\n",n+="    template <>\n",n+="    struct BaseTypeOfBytes_<8> {\n",n+="        typedef uint64_t value;\n",n+="    };\n",n+="\n",n+="    static constexpr size_t CeilP2Helper_(size_t n, size_t shift) {\n",n+="        return (n & (n - 1)) ? CeilP2Helper_(n & (n - 1), 1) : (n << shift);\n",n+="    }\n",n+="\n",n+="    static constexpr size_t CeilP2_(size_t n) {\n",n+="        return n ? CeilP2Helper_(n, 0) : 0;\n",n+="    }\n",n+="\n",n+="    template <size_t N>\n",n+="    struct BaseTypeOfBits_ {\n",n+="        typedef typename BaseTypeOfBytes_<CeilP2_((N + 7) / 8)>::value value;\n",n+="    };\n",n+="\n",n+="    template <uint8_t L, uint8_t H, typename T>\n",n+="    struct Field_ {\n",n+="        static const uint8_t low   = L;\n",n+="        static const uint8_t high  = H;\n",n+="\n",n+="        NN_STATIC_ASSERT(low <= high);\n",n+="        NN_STATIC_ASSERT(std::is_integral<T>::value);\n",n+="        NN_STATIC_ASSERT(high < sizeof(T) * 8);\n",n+="\n",n+="        static const uint8_t shift = low;\n",n+="        static const uint8_t size  = high - low + 1;\n",n+="\n",n+="        static const T mask = (size == sizeof(T) * 8) ? (~T{0}) : (((T{1} << size) - 1) << shift);\n",n+="\n",n+="        typedef typename BaseTypeOfBits_<size>::value ValueType;\n",n+="    };\n",n+="\n",n+="public:\n",a["/"].children.forEach(function(e){n+="\n",n+="    /**\n",n+="     * @brief Factory method to create an instance of ".concat(e,"\n"),n+="     * @details\n",n+="     *   The runtime address of the new instance is calculated by adding together:\n",n+="     *   -# runtime address of its parent\n",n+="     *   -# declare offset of itself\n",n+="     */\n",n+="    static inline ".concat(c(e)," ").concat(r(e),"() NN_NOEXCEPT;\n"),n+="\n",n+="    /**\n",n+="     * @brief Factory method to create an instance of ".concat(e,"\n"),n+="     * @details\n",n+="     *   The runtime address of the new instance is determined by the template\n",n+="     *   parameter, which can only be one of:\n",n+="     *   - At\n",n+="     *   - Offset\n",n+="     */\n",n+="    template <typename AddressPolicy>\n",n+="    static inline ".concat(c(e)," ").concat(r(e),"(uintptr_t) NN_NOEXCEPT;\n")}),n+="};\n",Me(a,"/",function(e,t,a){if(e.parent){var s=c(e.parent+e.name),o=i(e.parent),l=e.offset.match(/^0x/i)?e.offset:"0x".concat(e.offset);n+="\n",n+="/**\n",n+=" * @brief Class for group ".concat(e.parent+e.name,"\n"),n+=" *\n",n+=" * @details\n",n+=" *   This class represents the group ".concat(e.parent+e.name,".\n"),n+=" *   The declared address information are:\n",n+=" *   - %Base:    0x".concat((t-parseInt(l)).toString(16),"\n"),n+=" *   - %Offset:  ".concat(l,"\n"),n+=" *   - %Address: 0x".concat(t.toString(16),"\n"),n+=" */\n",n+="class ".concat(o,"::").concat(s," {\n"),n+="public:\n",n+="    /**\n",n+="     * @brief Declared Base Address\n",n+="     */\n",n+="    static const uintptr_t g_DeclareBase    = ".concat(o,"::g_DeclareAddress;\n"),n+="\n",n+="    /**\n",n+="     * @brief Declared Address Offset\n",n+="     */\n",n+="    static const uintptr_t g_DeclareOffset  = ".concat(l,";\n"),n+="\n",n+="    /**\n",n+="     * @brief Declared Address\n",n+="     */\n",n+="    static const uintptr_t g_DeclareAddress = g_DeclareBase + g_DeclareOffset;\n",n+="\n",a.forEach(function(e){n+="    class ".concat(c(e),";\n")}),n+="\n",n+="private:\n",n+="    uintptr_t m_RuntimeAddress{g_DeclareAddress};\n",n+="\n",n+="public:\n",n+="    /**\n",n+="     * @brief Constructor\n",n+="     * @param[in] addr The runtime address\n",n+="     */\n",n+="    explicit ".concat(s,"(uintptr_t addr) NN_NOEXCEPT\n"),n+="        : m_RuntimeAddress(addr)\n",n+="    {\n",n+="    }\n",n+="\n",n+="    ".concat(s,"() NN_NOEXCEPT = default;\n"),a.forEach(function(e){n+="\n",n+="    /**\n",n+="     * @brief Factory method to create an instance of ".concat(e,"\n"),n+="     * @details\n",n+="     *   The runtime address of the new instance is calculated by adding together:\n",n+="     *   -# runtime address of its parent\n",n+="     *   -# declare offset of itself\n",n+="     */\n",n+="    inline ".concat(c(e)," ").concat(r(e),"() const NN_NOEXCEPT;\n"),n+="\n",n+="    /**\n",n+="     * @brief Factory method to create an instance of ".concat(e,"\n"),n+="     * @details\n",n+="     *   The runtime address of the new instance is determined by the template\n",n+="     *   parameter, which can only be one of:\n",n+="     *   - At\n",n+="     *   - Offset\n",n+="     */\n",n+="    template <typename AddressPolicy>\n",n+="    inline ".concat(c(e)," ").concat(r(e),"(uintptr_t n) const NN_NOEXCEPT;\n")}),n+="};\n"}}),$e(a,"/",function(e,t){var a=c(e.parent+e.name),r=i(e.parent),o=e.offset.match(/^0x/i)?e.offset:"0x".concat(e.offset);n+="\n",n+="/**\n",n+=" * @brief Class for register ".concat(e.parent+e.name,"\n"),n+=" *\n",n+=" * @details\n",n+=" *   This class represents the ".concat(e.desc_short,", i.e. ").concat(e.parent+e.name,".\n"),n+=" *\n",n+=" *   The declared address information are:\n",n+=" *   - %Base:    0x".concat((t-parseInt(o)).toString(16),"\n"),n+=" *   - %Offset:  ".concat(o,"\n"),n+=" *   - %Address: 0x".concat(t.toString(16),"\n"),n+=" */\n",n+="class ".concat(r,"::").concat(a," {\n"),n+="public:\n",n+="    /**\n",n+="     * @brief Declared Base Address\n",n+="     */\n",n+="    static const uintptr_t g_DeclareBase    = ".concat(r,"::g_DeclareAddress;\n"),n+="\n",n+="    /**\n",n+="     * @brief Declared Address Offset\n",n+="     */\n",n+="    static const uintptr_t g_DeclareOffset  = ".concat(o,";\n"),n+="\n",n+="    /**\n",n+="     * @brief Declared Address\n",n+="     */\n",n+="    static const uintptr_t g_DeclareAddress = g_DeclareBase + g_DeclareOffset;\n",n+="\n",n+="    /**\n",n+="     * @brief Size of this register in bytes\n",n+="     */\n",n+="    static const size_t    g_Size           = ".concat(e.size,";\n"),n+="\n",n+="    /**\n",n+="     * @brief Smallest integer type that can hold the value of this register\n",n+="     */\n",n+="    typedef typename BaseTypeOfBytes_<g_Size>::value ValueType_;\n",n+="\n",n+="private:\n",n+="    uintptr_t m_RuntimeAddress{g_DeclareAddress};\n",n+="    class     Data_;\n",n+="\n",e.fields.forEach(function(e){n+="    typedef Field_<".concat(e.bits[0],", ").concat(e.bits[1],", ValueType_> ").concat(qe(e.name),"_;\n")}),n+="\n",n+="public:\n",e.fields.forEach(function(e){s(e)&&(n+="    /**\n",n+="     * @brief Symbolic values for the field ".concat(e.name,"\n"),n+="     */\n",n+="    enum class ".concat(Xe(e.name),"Value : ").concat(qe(e.name),"_::ValueType {\n"),e.value.forEach(function(e){n+="        ".concat(Xe(e.name)," = ").concat(e.value,", //!< ").concat(e.name,"\n")}),n+="    };\n")}),n+="\n",n+="public:\n",n+="    /**\n",n+="     * @brief Constructor\n",n+="     * @param[in] addr The runtime address\n",n+="     */\n",n+="    explicit ".concat(a,"(uintptr_t addr) NN_NOEXCEPT\n"),n+="        : m_RuntimeAddress(addr)\n",n+="    {\n",n+="    }\n",n+="\n",n+="    ".concat(a,"() NN_NOEXCEPT = default;\n"),n+="\n",n+="    /**\n",n+="     * @brief Read register value to memory\n",n+="     */\n",n+="    inline Data_ Get() const NN_NOEXCEPT;\n",n+="\n",n+="    /**\n",n+="     * @brief Write a value from memory to register\n",n+="     * @param[in] value The value to be written\n",n+="     */\n",n+="    inline void  Set(ValueType_ value) NN_NOEXCEPT;\n",n+="};\n",n+="\n",n+="/**\n",n+=" * @brief In memory value type for register ".concat(e.parent+e.name,"\n"),n+=" * @details\n",n+=" *   This class is the in memory reprensentation of the register value.\n",n+=" *   It provides accessors to read / write the fields of the register. Those\n",n+=" *   accessors affect only the in memory copy of the register value.\n",n+=" *   value.\n",n+=" */\n",n+="class ".concat(r,"::").concat(a,"::Data_ {\n"),n+="private:\n",n+="    ValueType_ m_Value;\n",n+="\n",n+="public:\n",n+="    /**\n",n+="     * @brief Constructor\n",n+="     * @param[in] value The register reading\n",n+="     */\n",n+="    explicit Data_(ValueType_ value) NN_NOEXCEPT\n",n+="        : m_Value(value)\n",n+="    {\n",n+="    }\n",n+="\n",n+="    /**\n",n+="     * @brief Implicitly convert back to ValueType_\n",n+="     */\n",n+="    NN_IMPLICIT operator ValueType_() const NN_NOEXCEPT\n",n+="    {\n",n+="        return m_Value;\n",n+="    }\n",e.fields.forEach(function(e){var t=Xe(e.name),a=s(e)?"".concat(Xe(e.name),"Value"):"".concat(qe(e.name),"_::ValueType");n+="\n",n+="    /**\n",n+="     * @brief Read the ".concat(e.name," field\n"),n+="     */\n",n+="    inline ".concat(a," ").concat(t,"() const NN_NOEXCEPT;\n"),n+="\n",n+="    /**\n",n+="     * @brief Write the ".concat(e.name," field\n"),n+="     */\n",n+="    inline Data_& ".concat(t,"(").concat(a," value) NN_NOEXCEPT;\n")}),n+="};\n"}),Me(a,"/",function(e,t,a){var s=e.parent?"m_RuntimeAddress":"g_RuntimeAddress",o=e.parent?"const":"",l=i((e.parent||"")+e.name);a.forEach(function(e){var t=c(e),a=i(e),u=r(e);n+="\n",n+="/*\n",n+=" * ".concat(e,": Factory methods\n"),n+=" */\n",n+="\n",n+="inline ".concat(a,"\n"),n+="".concat(l,"::").concat(u,"() ").concat(o," NN_NOEXCEPT\n"),n+="{\n",n+="    return ".concat(t,"(").concat(s," + ").concat(t,"::g_DeclareOffset);\n"),n+="}\n",n+="\n",n+="template <>\n",n+="inline ".concat(a,"\n"),n+="".concat(l,"::").concat(u,"<At>(uintptr_t address) ").concat(o," NN_NOEXCEPT\n"),n+="{\n",n+="    return ".concat(t,"(address);\n"),n+="}\n",n+="\n",n+="template <>\n",n+="inline ".concat(a,"\n"),n+="".concat(l,"::").concat(u,"<Offset>(uintptr_t offset) ").concat(o," NN_NOEXCEPT\n"),n+="{\n",n+="    return ".concat(t,"(").concat(s," + ").concat(t,"::g_DeclareOffset + offset);\n"),n+="}\n"})}),$e(a,"/",function(e,t){var a=i(e.parent+e.name);n+="/*\n",n+=" * ".concat(e.parent+e.name,": Getter\n"),n+=" */\n",n+="inline ".concat(a,"::Data_\n"),n+="".concat(a,"::Get() const NN_NOEXCEPT\n"),n+="{\n",n+="    return Data_(*(volatile ValueType_*)m_RuntimeAddress);\n",n+="}\n",n+="\n",n+="/*\n",n+=" * ".concat(e.parent+e.name,": Setter\n"),n+=" */\n",n+="inline void\n",n+="".concat(a,"::Set(ValueType_ value) NN_NOEXCEPT\n"),n+="{\n",n+="    *(volatile ValueType_*)m_RuntimeAddress = value;\n",n+="}\n",e.fields.forEach(function(t){var r=Xe(t.name),c="".concat(qe(t.name),"_"),i=s(t)?"".concat(Xe(t.name),"Value"):"".concat(c,"::ValueType");n+="\n",n+="/*\n",n+=" * ".concat(e.parent+e.name,": Field accessor\n"),n+=" *   [".concat(t.bits[0],", ").concat(t.bits[1],"]: ").concat(t.name," - ").concat(t.meaning,"\n"),n+=" */\n",n+="\n",n+="inline ".concat(a,"::").concat(i,"\n"),n+="".concat(a,"::Data_::").concat(r,"() const NN_NOEXCEPT\n"),n+="{\n",n+="    ".concat(c,"::ValueType rv = (m_Value & ").concat(c,"::mask) >> ").concat(c,"::shift;\n"),n+="    return "+(s(t)?"static_cast<".concat(i,">(rv)"):"rv")+";\n",n+="}\n",n+="\n",n+="inline ".concat(a,"::Data_&\n"),n+="".concat(a,"::Data_::").concat(r,"(").concat(i," value) NN_NOEXCEPT\n"),n+="{\n",n+="    m_Value &= ~".concat(c,"::mask;\n"),n+="    m_Value |= (static_cast<ValueType_>(value) << ".concat(c,"::shift) & ").concat(c,"::mask;\n"),n+="    return *this;\n",n+="}\n"})}),e.abrupt("return",n);case 140:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),description:"C++",extension:".h"},{handle:Ge,description:"C/C++ Macro",extension:".h"},{handle:Ue,description:"C++ Template",extension:".h"},{handle:function(){var e=Object(l.a)(o.a.mark(function e(t){var n,a,r,c,i,s;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n="",e.t0=le,e.next=4,le.export(t);case 4:return e.t1=e.sent,a=e.t0.parse.call(e.t0,e.t1),n+="/*--------------------------------------------------------------------------------*\n",n+="  Copyright (C)Nintendo All rights reserved.\n",n+="\n",n+="  These coded instructions, statements, and computer programs contain proprietary\n",n+="  information of Nintendo and/or its licensed developers and are protected by\n",n+="  national and international copyright laws. They may not be disclosed to third\n",n+="  parties or copied or duplicated in any form, in whole or in part, without the\n",n+="  prior written consent of Nintendo.\n",n+="\n",n+="  The content herein is highly confidential and should be handled accordingly.\n",n+=" *--------------------------------------------------------------------------------*/\n",n+="\n",n+="/**\n",n+=" * @file\n",n+=" * @brief Automatically generated Register Accessors\n",n+=" */\n",n+="\n",n+="// NOLINT(build/header_guard)\n",r=function(e){return Xe(me(e)[1])},c=function(e){var t=e.split("/").filter(function(e){return""!==e});return 0===t.length?"Register":qe(t[t.length-1])},i=function(e){return["Register"].concat(e.split("/").filter(function(e){return""!==e}).map(function(e){return qe(e)})).join("::")},s=function(e){return e.value&&e.value.length>0},n+="\n",n+="/**\n",n+=" * @class At\n",n+=" * @brief Address Policy Tag to apply an absolute runtime address\n",n+=" *\n",n+=" * @details\n",n+=" *   This is an incomplete type intended to be used as dispatch tag for template\n",n+=" *   methods. With this tag, the factory method to create a new instance of\n",n+=" *   group or register will interpreate its sole argument as the absolute\n",n+=" *   runtime address of such group or register.\n",n+=" */\n",n+="class At;\n",n+="\n",n+="/**\n",n+=" * @class Offset\n",n+=" * @brief Address Policy Tag to apply an extra address offset\n",n+=" *\n",n+=" * @details\n",n+=" *   This is an incomplete type intended to be used as dispatch tag for template\n",n+=" *   methods. With this tag, the factory method to create a new instance of\n",n+=" *   group or register will interpreate its sole argument as an address offset.\n",n+=" *   The runtime address of such group or register is calculated by adding\n",n+=" *   together:\n",n+=" *   -# runtime address of its parent\n",n+=" *   -# declare offset of itself\n",n+=" *   -# this extra offset\n",n+=" */\n",n+="class Offset;\n","Register",n+="\n",n+="/**\n",n+=" * @brief Type definitions for std::function based read and write callbacks.\n",n+=" *\n",n+=" */\n",n+="typedef std::function<void(void* pOutData, size_t dataSize, size_t registerOffset)> ReadHandlerType;\n",n+="typedef std::function<void(const void* pInData, size_t dataSize, size_t registerOffset)>  WriteHandlerType;\n",n+="\n",n+="/**\n",n+=" * @brief Top level class for the register accessors\n",n+=" *\n",n+=" * @details\n",n+=" *   This class represents the top level container of all groups and registers.\n",n+=" *   All of its data members and methods are static\n",n+=" */\n",n+="class ".concat("Register"," {\n"),n+="public:\n",n+="    /**\n",n+="     * @brief Declare Address\n",n+="     */\n",n+="    static const uintptr_t g_DeclareAddress = 0;\n",n+="    /**\n",n+="     * @brief Runtime Address\n",n+="     */\n",n+="    static const uintptr_t g_RuntimeAddress = 0;\n",n+="\n",a["/"].children.forEach(function(e){n+="    class ".concat(c(e),";\n")}),n+="\n",n+="private:\n",n+="    template <size_t N>\n",n+="    struct  BaseTypeOfBytes_;\n",n+="\n",n+="    template <>\n",n+="    struct BaseTypeOfBytes_<1> {\n",n+="        typedef uint8_t value;\n",n+="    };\n",n+="\n",n+="    template <>\n",n+="    struct BaseTypeOfBytes_<2> {\n",n+="        typedef uint16_t value;\n",n+="    };\n",n+="\n",n+="    template <>\n",n+="    struct BaseTypeOfBytes_<4> {\n",n+="        typedef uint32_t value;\n",n+="    };\n",n+="\n",n+="    template <>\n",n+="    struct BaseTypeOfBytes_<8> {\n",n+="        typedef uint64_t value;\n",n+="    };\n",n+="\n",n+="    static constexpr size_t CeilP2Helper_(size_t n, size_t shift) {\n",n+="        return (n & (n - 1)) ? CeilP2Helper_(n & (n - 1), 1) : (n << shift);\n",n+="    }\n",n+="\n",n+="    static constexpr size_t CeilP2_(size_t n) {\n",n+="        return n ? CeilP2Helper_(n, 0) : 0;\n",n+="    }\n",n+="\n",n+="    template <size_t N>\n",n+="    struct BaseTypeOfBits_ {\n",n+="        typedef typename BaseTypeOfBytes_<CeilP2_((N + 7) / 8)>::value value;\n",n+="    };\n",n+="\n",n+="    template <uint8_t L, uint8_t H, typename T>\n",n+="    struct Field_ {\n",n+="        static const uint8_t low   = L;\n",n+="        static const uint8_t high  = H;\n",n+="\n",n+="        NN_STATIC_ASSERT(low <= high);\n",n+="        NN_STATIC_ASSERT(std::is_integral<T>::value);\n",n+="        NN_STATIC_ASSERT(high < sizeof(T) * 8);\n",n+="\n",n+="        static const uint8_t shift = low;\n",n+="        static const uint8_t size  = high - low + 1;\n",n+="\n",n+="        static const T mask = (size == sizeof(T) * 8) ? (~T{0}) : (((T{1} << size) - 1) << shift);\n",n+="\n",n+="        typedef typename BaseTypeOfBits_<size>::value ValueType;\n",n+="    };\n",n+="\n",n+="};\n",Me(a,"/",function(e,t,a){if(e.parent){var s=c(e.parent+e.name),o=i(e.parent),l=e.offset.match(/^0x/i)?e.offset:"0x".concat(e.offset);n+="\n",n+="/**\n",n+=" * @brief Class for group ".concat(e.parent+e.name,"\n"),n+=" *\n",n+=" * @details\n",n+=" *   This class represents the group ".concat(e.parent+e.name,".\n"),n+=" *   The declared address information are:\n",n+=" *   - %Base:    0x".concat((t-parseInt(l)).toString(16),"\n"),n+=" *   - %Offset:  ".concat(l,"\n"),n+=" *   - %Address: 0x".concat(t.toString(16),"\n"),n+=" */\n",n+="class ".concat(o,"::").concat(s," {\n"),n+="public:\n",n+="    /**\n",n+="     * @brief Declared Base Address\n",n+="     */\n",n+="    static const uintptr_t g_DeclareBase    = ".concat(o,"::g_DeclareAddress;\n"),n+="\n",n+="    /**\n",n+="     * @brief Declared Address Offset\n",n+="     */\n",n+="    static const uintptr_t g_DeclareOffset  = ".concat(l,";\n"),n+="\n",n+="    /**\n",n+="     * @brief Declared Address\n",n+="     */\n",n+="    static const uintptr_t g_DeclareAddress = g_DeclareBase + g_DeclareOffset;\n",n+="\n",a.forEach(function(e){n+="    class ".concat(c(e),";\n")}),n+="\n",n+="private:\n",n+="    uintptr_t m_RuntimeAddress{g_DeclareAddress};\n",n+="    ReadHandlerType  m_ReadHandler;\n",n+="    WriteHandlerType m_WriteHandler;\n",n+="\n",n+="public:\n",n+="    /**\n",n+="     * @brief Constructor\n",n+="     * @param[in] readHandler  Callback invoked when register is read\n",n+="     * @param[in] writeHandler Callback invoked when register is written\n",n+="     */\n",n+="    ".concat(s,"( const ReadHandlerType& readHandler,  const WriteHandlerType& writeHandler) NN_NOEXCEPT\n"),n+="        : m_ReadHandler(readHandler)\n",n+="        , m_WriteHandler(writeHandler)\n",n+="    {\n",n+="    }\n",n+="\n",a.forEach(function(e){n+="\n",n+="    /**\n",n+="     * @brief Factory method to create an instance of ".concat(e,"\n"),n+="     * @details\n",n+="     *   The runtime address of the new instance is calculated by adding together:\n",n+="     *   -# runtime address of its parent\n",n+="     *   -# declare offset of itself\n",n+="     */\n",n+="    inline ".concat(c(e)," ").concat(r(e),"() const NN_NOEXCEPT;\n"),n+="\n",n+="    /**\n",n+="     * @brief Factory method to create an instance of ".concat(e,"\n"),n+="     * @details\n",n+="     *   The runtime address of the new instance is determined by the template\n",n+="     *   parameter, which can only be one of:\n",n+="     *   - At\n",n+="     *   - Offset\n",n+="     */\n",n+="    template <typename AddressPolicy>\n",n+="    inline ".concat(c(e)," ").concat(r(e),"(uintptr_t n) const NN_NOEXCEPT;\n")}),n+="\n",n+="    inline void Read(void* pOutData, size_t dataSize, size_t registerOffset) const\n",n+="    {\n",n+="        m_ReadHandler(pOutData, dataSize, registerOffset);\n",n+="    }\n",n+="\n",n+="    inline void Write(const void* pInData, size_t dataSize, size_t registerOffset) const\n",n+="    {\n",n+="        m_WriteHandler(pInData, dataSize, registerOffset);\n",n+="    }\n",n+="};\n"}}),$e(a,"/",function(e,t){var a=c(e.parent+e.name),r=i(e.parent),o=e.offset.match(/^0x/i)?e.offset:"0x".concat(e.offset);n+="\n",n+="/**\n",n+=" * @brief Class for register ".concat(e.parent+e.name,"\n"),n+=" *\n",n+=" * @details\n",n+=" *   This class represents the ".concat(e.desc_short,", i.e. ").concat(e.parent+e.name,".\n"),n+=" *\n",n+=" *   The declared address information are:\n",n+=" *   - %Base:    0x".concat((t-parseInt(o)).toString(16),"\n"),n+=" *   - %Offset:  ".concat(o,"\n"),n+=" *   - %Address: 0x".concat(t.toString(16),"\n"),n+=" */\n",n+="class ".concat(r,"::").concat(a," {\n"),n+="public:\n",n+="    /**\n",n+="     * @brief Declared Base Address\n",n+="     */\n",n+="    static const uintptr_t g_DeclareBase    = ".concat(r,"::g_DeclareAddress;\n"),n+="\n",n+="    /**\n",n+="     * @brief Declared Address Offset\n",n+="     */\n",n+="    static const uintptr_t g_DeclareOffset  = ".concat(o,";\n"),n+="\n",n+="    /**\n",n+="     * @brief Declared Address\n",n+="     */\n",n+="    static const uintptr_t g_DeclareAddress = g_DeclareBase + g_DeclareOffset;\n",n+="\n",n+="    /**\n",n+="     * @brief Size of this register in bytes\n",n+="     */\n",n+="    static const size_t    g_Size           = ".concat(e.size,";\n"),n+="\n",n+="    /**\n",n+="     * @brief Smallest integer type that can hold the value of this register\n",n+="     */\n",n+="    typedef typename BaseTypeOfBytes_<g_Size>::value ValueType_;\n",n+="\n",n+="private:\n",n+="    const ".concat(r,"& m_Factory;\n"),n+="    uintptr_t m_RuntimeAddress{g_DeclareAddress};\n",n+="    class     Data_;\n",n+="\n",e.fields.forEach(function(e){n+="    typedef Field_<".concat(e.bits[0],", ").concat(e.bits[1],", ValueType_> ").concat(qe(e.name),"_;\n")}),n+="\n",n+="public:\n",e.fields.forEach(function(e){s(e)&&(n+="    /**\n",n+="     * @brief Symbolic values for the field ".concat(e.name,"\n"),n+="     */\n",n+="    enum class ".concat(Xe(e.name),"Value : ").concat(qe(e.name),"_::ValueType {\n"),e.value.forEach(function(e){n+="        ".concat(Xe(e.name)," = ").concat(e.value,", //!< ").concat(e.name,"\n")}),n+="    };\n")}),n+="\n",n+="public:\n",n+="    /**\n",n+="     * @brief Constructor\n",n+="     * @param[factory] reference to the factory\n",n+="     * @param[in] addr The runtime address\n",n+="     */\n",n+="    ".concat(a,"(const ").concat(r,"& factory, uintptr_t addr) NN_NOEXCEPT\n"),n+="        : m_Factory(factory)\n",n+="        , m_RuntimeAddress(addr)\n",n+="    {\n",n+="    }\n",n+="\n",n+="    /**\n",n+="     * @brief Constructor\n",n+="     * @param[factory] reference to the factory\n",n+="     */\n",n+="    explicit ".concat(a,"(const ").concat(r,"& factory) NN_NOEXCEPT\n"),n+="        : m_Factory(factory)\n",n+="    {\n",n+="    }\n",n+="\n",n+="    /**\n",n+="     * @brief Read register value to memory\n",n+="     */\n",n+="    inline Data_ Read() const NN_NOEXCEPT;\n",n+="\n",n+="    /**\n",n+="     * @brief Write a value from memory to register\n",n+="     * @param[in] value The value to be written\n",n+="     */\n",n+="    inline void  Write(ValueType_ value) NN_NOEXCEPT;\n",n+="\n",n+="    /**\n",n+="     * @brief Create a register data object; don't touch hardware.\n",n+="     */\n",n+="    inline Data_ MakeDataValue(ValueType_ value) NN_NOEXCEPT;\n",n+="};\n",n+="\n",n+="/**\n",n+=" * @brief In memory value type for register ".concat(e.parent+e.name,"\n"),n+=" * @details\n",n+=" *   This class is the in memory reprensentation of the register value.\n",n+=" *   It provides accessors to read / write the fields of the register. Those\n",n+=" *   accessors affect only the in memory copy of the register value.\n",n+=" *   value.\n",n+=" */\n",n+="class ".concat(r,"::").concat(a,"::Data_ {\n"),n+="private:\n",n+="    ValueType_ m_Value;\n",n+="\n",n+="public:\n",n+="    /**\n",n+="     * @brief Constructor\n",n+="     * @param[in] value The register reading\n",n+="     */\n",n+="    explicit Data_(ValueType_ value) NN_NOEXCEPT\n",n+="        : m_Value(value)\n",n+="    {\n",n+="    }\n",n+="\n",n+="    /**\n",n+="     * @brief Implicitly convert back to ValueType_\n",n+="     */\n",n+="    NN_IMPLICIT operator ValueType_() const NN_NOEXCEPT\n",n+="    {\n",n+="        return m_Value;\n",n+="    }\n",e.fields.forEach(function(e){var t=Xe(e.name),a=s(e)?"".concat(Xe(e.name),"Value"):"".concat(qe(e.name),"_::ValueType");n+="\n",n+="    /**\n",n+="     * @brief Read the ".concat(e.name," field\n"),n+="     */\n",n+="    inline ".concat(a," ").concat(t,"() const NN_NOEXCEPT;\n"),n+="\n",n+="    /**\n",n+="     * @brief Write the ".concat(e.name," field\n"),n+="     */\n",n+="    inline Data_& ".concat(t,"(").concat(a," value) NN_NOEXCEPT;\n")}),n+="};\n"}),Me(a,"/",function(e,t,a){var s=e.parent?"m_RuntimeAddress":"g_RuntimeAddress",o=e.parent?"const":"",l=e.parent?"*this,":"",u=i((e.parent||"")+e.name);e.parent&&a.forEach(function(e){var t=c(e),a=i(e),d=r(e);n+="\n",n+="/*\n",n+=" * ".concat(e,": Factory methods\n"),n+=" */\n",n+="\n",n+="inline ".concat(a,"\n"),n+="".concat(u,"::").concat(d,"() ").concat(o," NN_NOEXCEPT\n"),n+="{\n",n+="    return ".concat(t,"(").concat(l," ").concat(s," + ").concat(t,"::g_DeclareOffset);\n"),n+="}\n",n+="\n",n+="template <>\n",n+="inline ".concat(a,"\n"),n+="".concat(u,"::").concat(d,"<At>(uintptr_t address) ").concat(o," NN_NOEXCEPT\n"),n+="{\n",n+="    return ".concat(t,"(").concat(l," address);\n"),n+="}\n",n+="\n",n+="template <>\n",n+="inline ".concat(a,"\n"),n+="".concat(u,"::").concat(d,"<Offset>(uintptr_t offset) ").concat(o," NN_NOEXCEPT\n"),n+="{\n",n+="    return ".concat(t,"(").concat(l," ").concat(s," + ").concat(t,"::g_DeclareOffset + offset);\n"),n+="}\n"})}),$e(a,"/",function(e,t){var a=i(e.parent+e.name);n+="/*\n",n+=" * ".concat(e.parent+e.name,": Hardware reader\n"),n+=" */\n",n+="inline ".concat(a,"::Data_\n"),n+="".concat(a,"::Read() const NN_NOEXCEPT\n"),n+="{\n",n+="    Data_ data(0);\n",n+="    m_Factory.Read(&data, g_Size, m_RuntimeAddress);\n",n+="    return data;\n",n+="}\n",n+="\n",n+="/*\n",n+=" * ".concat(e.parent+e.name,": Hardware writer\n"),n+=" */\n",n+="inline void\n",n+="".concat(a,"::Write(const ValueType_ value) NN_NOEXCEPT\n"),n+="{\n",n+="    m_Factory.Write(&value, g_Size, m_RuntimeAddress);\n",n+="}\n",n+="\n",n+="/*\n",n+=" * ".concat(e.parent+e.name,": Create a zeroed data value\n"),n+=" */\n",n+="inline ".concat(a,"::Data_\n"),n+="".concat(a,"::MakeDataValue(ValueType_ value = 0) NN_NOEXCEPT\n"),n+="{\n",n+="    return Data_(value);\n",n+="}\n",e.fields.forEach(function(t){var r=Xe(t.name),c="".concat(qe(t.name),"_"),i=s(t)?"".concat(Xe(t.name),"Value"):"".concat(c,"::ValueType");n+="\n",n+="/*\n",n+=" * ".concat(e.parent+e.name,": Field accessor\n"),n+=" *   [".concat(t.bits[0],", ").concat(t.bits[1],"]: ").concat(t.name," - ").concat(t.meaning,"\n"),n+=" */\n",n+="\n",n+="inline ".concat(a,"::").concat(i,"\n"),n+="".concat(a,"::Data_::").concat(r,"() const NN_NOEXCEPT\n"),n+="{\n",n+="    ".concat(c,"::ValueType rv = (m_Value & ").concat(c,"::mask) >> ").concat(c,"::shift;\n"),n+="    return "+(s(t)?"static_cast<".concat(i,">(rv)"):"rv")+";\n",n+="}\n",n+="\n",n+="inline ".concat(a,"::Data_&\n"),n+="".concat(a,"::Data_::").concat(r,"(").concat(i," value) NN_NOEXCEPT\n"),n+="{\n",n+="    m_Value &= ~".concat(c,"::mask;\n"),n+="    m_Value |= (static_cast<ValueType_>(value) << ".concat(c,"::shift) & ").concat(c,"::mask;\n"),n+="    return *this;\n",n+="}\n"})}),e.abrupt("return",n);case 145:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),description:"C++ Indirect",extension:".h"}];function Ze(e){var t=e.form,n=e.onFinish,a=function(e,t){var n="data:text/plain;charset=utf-8,"+encodeURIComponent(e),a=document.createElement("a");a.setAttribute("href",n),a.setAttribute("download",t),document.body.appendChild(a),a.click(),a.remove()},c={labelCol:{span:4},wrapperCol:{span:20},form:t,initialValues:{source:"/",format:0},onFinish:function(){var e=Object(l.a)(o.a.mark(function e(t){var r,c,i,s;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.source,c=t.format,"/"===(i=me(r)[1])&&(i="register"),i.endsWith("/")&&(i=i.slice(0,-1)),i+=Je[c].extension,e.next=7,Je[c].handle(r);case 7:s=e.sent,a(s,i),n();case 10:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()};return r.a.createElement(w.a,c,r.a.createElement(w.a.Item,{label:"Source",name:"source",validateFirst:!0,rules:[{required:!0,whitespace:!0,message:"required"},{pattern:/^\/[/a-zA-Z0-9_ ]*$/,message:"invalid"}]},r.a.createElement(de,null)),r.a.createElement(w.a.Item,{label:"Format",name:"format",validateFirst:!0,rules:[{type:"number",required:!0,message:"required"}]},r.a.createElement(He.a,null,Je.map(function(e,t){return r.a.createElement(He.a.Option,{key:t,value:t},e.description)}))))}function Ye(e){var t=e.hide,n=w.a.useForm(),a=Object(u.a)(n,1)[0],c={title:"Export Data",width:480,visible:!0,maskClosable:!1,onOk:a.submit,onCancel:t};return r.a.createElement(Y.a,c,r.a.createElement(Ze,{form:a,onFinish:t}))}var Qe=n(449),et=n(95),tt=n(475),nt=n(476),at=n(477),rt=n(478),ct=n(458),it=n(472),st=n(473);n(429);function ot(e){var t=Object(a.useState)([]),n=Object(u.a)(t,2),c=n[0],i=n[1],s=Object(a.useState)([]),d=Object(u.a)(s,2),m=d[0],h=d[1],b=Object(a.useState)([]),v=Object(u.a)(b,2),g=v[0],y=v[1],E=Object(a.useState)([]),_=Object(u.a)(E,2),O=_[0],x=_[1],w=Object(a.useState)([]),N=Object(u.a)(w,2),j=N[0],C=N[1],k=Object(a.useState)(""),A=Object(u.a)(k,2),P=A[0],S=A[1],D=Object(a.useState)({show:!1,parent:null,data:null}),F=Object(u.a)(D,2),I=F[0],R=F[1],B=function(t){t.endsWith("/")?x(function(e){return a=t,-1!==(n=e).indexOf(a)?n.filter(function(e){return e!==a}):[].concat(Object(p.a)(n),[a]);var n,a}):(C([t]),e.onSelect(t))},V=function e(t,n){return t.map(function(t){var a=t.name.endsWith("/")?Object(l.a)(o.a.mark(function e(){var a;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,le.get(n+t.name);case 2:a=e.sent,R(Object(f.a)({},I,{show:!0,data:a}));case 4:case"end":return e.stop()}},e)})):null;return{key:n+t.name,title:r.a.createElement(lt,{name:t.name,parent:n,onEdit:a,onClick:B}),children:e(t.children,n+t.name),isLeaf:!t.name.endsWith("/")}})},z=function(){var e=Object(l.a)(o.a.mark(function e(){var t,n;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,le.getHierarchy();case 2:t=e.sent,(n=V(t,"/")).length>0&&i(n);case 5:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)(function(){z()},[]),Object(a.useEffect)(function(){var e=function(e){var t=e.oldData,n=e.newData,a=t.parent+t.name,r=n.parent+n.name;a!==r&&x(function(e){return e.map(function(e){return e.replace(a,r)})})},t=function(){var e=Object(l.a)(o.a.mark(function e(t){var n;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.deletedKeys,e.next=3,le.count();case 3:e.sent>1&&x(function(e){return e.filter(function(e){return!n.includes(e)})});case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),n=function(){z()};return le.subscribe(e,"update").subscribe(t,"delete").subscribe(n,"import").subscribe(z),function(){le.unsubscribe(e,"update").unsubscribe(t,"delete").unsubscribe(n,"import").unsubscribe(z)}},[]),Object(a.useEffect)(function(){if(""===P)y(c);else{var e=new RegExp(P,"i"),t=function e(t,n){return t.reduce(function(t,a){if(a.key.endsWith("/")){var r=e(a.children,n);(r.treeData.length||n.test(a.key))&&(t.treeData.push(Object(f.a)({},a,{children:r.treeData})),t.expandedKeys=[].concat(Object(p.a)(t.expandedKeys),Object(p.a)(r.expandedKeys),[a.key]))}else n.test(a.key)&&t.treeData.push(a);return t},{treeData:[],expandedKeys:[]})}(c,e);y(t.treeData),x(t.expandedKeys)}},[c,P]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"reg-list"},r.a.createElement(T.a.Search,{placeholder:"Regex",onChange:function(e){var t=e.target.value;""===P?h(O):""===t&&x(m),S(t)}}),r.a.createElement("div",{className:"tree-container"},r.a.createElement(ct.a,{blockNode:!0,switcherIcon:r.a.createElement(it.a,null),onExpand:x,treeData:g,expandedKeys:O,selectedKeys:j}))),I.show&&r.a.createElement(We,{parent:I.parent,grp:I.data,title:"Edit Group",hide:function(){return R(Object(f.a)({},I,{show:!1}))}}))}function lt(e){var t=e.name,n=e.parent,a=e.onEdit,c=e.onClick,i=t.endsWith("/")?t.slice(0,-1):t,s=a?r.a.createElement(k.a,{className:"act-edit",onClick:a}):null,u=r.a.createElement(A.a,{className:"act-delete",onClick:function(e){e.stopPropagation();var a=n+t,c=r.a.createElement("p",null,"This will delete entry ",r.a.createElement(h.a.Text,{code:!0},a),a.endsWith("/")&&" and everything underneath it",". There is no way back."),i=Y.a.confirm({title:"Are you sure?",icon:r.a.createElement(st.a,null),content:c,onOk:function(){var e=Object(l.a)(o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i.update({okButtonProps:{loading:!0}}),e.prev=1,e.next=4,le.delete(a);case 4:Ve.a.success(r.a.createElement("span",null,r.a.createElement(h.a.Text,{code:!0},a)," Deleted")),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),Ve.a.error("".concat(e.t0.name,": ").concat(e.t0.message));case 10:case"end":return e.stop()}},e,null,[[1,7]])}));return function(){return e.apply(this,arguments)}}()})}});return r.a.createElement(y.a,{className:"tree-title"},r.a.createElement(G.a,{flex:"auto",onClick:function(){return c(n+t)}}," ",i," "),r.a.createElement(G.a,null," ",s," ",u," "))}var ut=n(459),dt=n(134),ft=n(462),mt=n(217),pt=n(474),ht=(n(442),ut.a.Step);function bt(e){var t={display:"block",height:"30px",lineHeight:"30px"};return r.a.createElement(w.a,null,r.a.createElement("p",null,"All the data will be stored in your browser's \xa0",r.a.createElement("a",{href:"https://developers.google.com/web/ilt/pwa/working-with-indexeddb",target:"_blank",rel:"noopener noreferrer"},"IndexedDB"),". It appears that your database is empty. Please choose a way to create one."),r.a.createElement(dt.a.Group,{onChange:function(t){e.setSource(t.target.value)},value:e.value,style:{paddingLeft:"16px"}},r.a.createElement(dt.a,{style:t,value:"fresh"},"Start fresh by hand"),r.a.createElement(dt.a,{style:t,value:"import"},"Import from JSON file")))}function vt(e){var t=Object(a.useState)(!1),n=Object(u.a)(t,2),c=n[0],i=n[1],s=Object(a.useState)(null),o=Object(u.a)(s,2),l=o[0],d=o[1],f=Object(a.useState)(0),m=Object(u.a)(f,2),p=m[0],h=m[1],b=function(t){var n=new FileReader;n.onload=function(){e.setJson(n.result),d(t.name),i(!1)},i(!0),n.readAsText(t)},v=l?r.a.createElement(ft.a,{message:l,closable:!0,onClose:function(){e.setJson(null),d(null)},style:{marginTop:"16px"}}):null,g=p?{border:"1px dashed #40a9ff"}:null;return r.a.createElement("div",{className:"data-picker-container"},r.a.createElement("label",{className:"data-picker",style:g,onDrop:function(e){e.preventDefault(),e.stopPropagation();var t=e.dataTransfer;t.files.length&&b(t.files[0])},onDragOver:function(e){e.preventDefault(),e.stopPropagation()},onDragEnter:function(e){e.preventDefault(),e.stopPropagation(),h(p+1)},onDragLeave:function(e){e.preventDefault(),e.stopPropagation(),h(p-1)}},r.a.createElement("input",{type:"file",accept:"application/json",onChange:function(e){b(e.target.files[0]),e.target.value=null}}),r.a.createElement(mt.a,{spinning:c},r.a.createElement("div",null,r.a.createElement("span",{className:"data-picker-icon"},r.a.createElement(pt.a,null)),r.a.createElement("p",null,"Click or drag JSON file to this area to upload")))),v)}function gt(e){return r.a.createElement(w.a,Object.assign({style:{width:"100%"}},{labelCol:{span:5},wrapperCol:{span:19}},{form:e.form}),r.a.createElement("p",null,"Please create a group to host all your data. You can edit or add more groups later."),r.a.createElement(w.a.Item,{label:"Name",name:"name",rules:[{required:!0,whitespace:!0,message:"required"},{pattern:/^[a-zA-Z][a-zA-Z0-9_ ]*$/,message:"invalid"}]},r.a.createElement(T.a,null)),r.a.createElement(w.a.Item,{label:"Base Address",name:"offset",rules:[{required:!0,whitespace:!0,message:"required"},{pattern:/^[0-9a-f]+$/i,message:"not a hex number"}]},r.a.createElement(T.a,{addonBefore:"0x"})))}var yt=function(e){var t=Object(a.useState)(0),n=Object(u.a)(t,2),c=n[0],i=n[1],s=Object(a.useState)("fresh"),d=Object(u.a)(s,2),f=d[0],m=d[1],p=Object(a.useState)(null),h=Object(u.a)(p,2),b=h[0],v=h[1],E=Object(a.useState)(!1),_=Object(u.a)(E,2),O=_[0],x=_[1],N=w.a.useForm(),j=Object(u.a)(N,1)[0],T=function(){x(!0),le.import(b).then(function(){i(2),x(!1)}).catch(function(){Ve.a.error("Failed to import this JSON file"),x(!1)})},C=function(){var e=Object(l.a)(o.a.mark(function e(){var t;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.validateFields();case 2:return t=e.sent,e.prev=3,x(!0),e.next=7,le.reset();case 7:return e.next=9,le.add({parent:"/",name:t.name+"/",offset:t.offset});case 9:i(2),x(!1),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(3),Ve.a.error("".concat(e.t0.name,": ").concat(e.t0.message)),x(!1);case 17:case"end":return e.stop()}},e,null,[[3,13]])}));return function(){return e.apply(this,arguments)}}(),k=[{title:"Source",description:"Choose data source"},{title:"Data",description:0===c?"Provide data":"fresh"===f?"Create a group":"import"===f?"Import from JSON":"Provide data"},{title:"Done",description:"All set"}];return r.a.createElement("div",{className:"data-source-container"},r.a.createElement("div",{className:"data-source"},r.a.createElement(y.a,null,r.a.createElement(ut.a,{current:c},k.map(function(e){return r.a.createElement(ht,Object.assign({},e,{key:e.title}))}))),r.a.createElement(y.a,{style:{padding:"24px 0"}},function(){switch(c){case 0:return r.a.createElement(bt,{setSource:m,value:f});case 1:return"import"===f?r.a.createElement(vt,{setJson:v}):"fresh"===f?r.a.createElement(gt,{form:j}):null;case 2:return r.a.createElement("div",{style:{textAlign:"center",width:"100%"}},r.a.createElement("h3",null,"Great, you are ready to go!"),r.a.createElement(g.a,{type:"primary",onClick:e.onFinish},"Proceed"));default:return null}}()),r.a.createElement(y.a,{justify:"space-between"},r.a.createElement(G.a,null,1===c?r.a.createElement(g.a,{onClick:function(){return i(0)}},"Back"):null),r.a.createElement(G.a,null,function(){switch(c){case 0:return r.a.createElement(g.a,{onClick:function(){return i(1)}},"Next");case 1:return"import"===f?r.a.createElement(g.a,{onClick:T,loading:O,disabled:!b},"Next"):"fresh"===f?r.a.createElement(g.a,{onClick:C,loading:O},"Next"):null;default:return null}}()))))},Et=n(223),_t=(n(443),Qe.a.Header),Ot=Qe.a.Sider,xt=Qe.a.Content;function wt(){var e=Object(a.useState)(),t=Object(u.a)(e,2),n=t[0],c=t[1],i=Object(a.useState)(!1),s=Object(u.a)(i,2),d=s[0],f=s[1],m=Object(a.useState)(!1),p=Object(u.a)(m,2),b=p[0],v=p[1],E=Object(a.useState)(!1),_=Object(u.a)(E,2),O=_[0],x=_[1],w=Object(a.useState)(),N=Object(u.a)(w,2),j=N[0],T=N[1];Object(a.useEffect)(function(){var e=function(e){var t=e.oldData,n=e.newData,a=t.parent+t.name,r=n.parent+n.name;c(function(e){return e&&e.replace(a,r)})};return le.subscribe(e,"update"),function(){return le.unsubscribe(e,"update")}},[]),Object(a.useEffect)(function(){n?n.endsWith("/")||T(r.a.createElement(je,{path:n})):T(r.a.createElement(et.a,{description:"Please select one entry from the left panel, or create new ones."}))},[n]),Object(a.useEffect)(function(){var e=function(e){e.deletedKeys.includes(n)&&c()};return le.subscribe(e,"delete"),function(){return le.unsubscribe(e,"delete")}},[n]);var C=n?n.split("/").slice(0,-1).join("/")+"/":"/",k=new FileReader;k.onload=Object(l.a)(o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,le.import(k.result);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),e.t0 instanceof oe?Ve.a.error(r.a.createElement("span",null,"Entry with key ",r.a.createElement(h.a.Text,{code:!0},e.t0.message)," is already exist")):Ve.a.error("".concat(e.t0.name,": ").concat(e.t0.message));case 8:case"end":return e.stop()}},e,null,[[0,5]])}));return r.a.createElement(Qe.a,null,r.a.createElement(_t,{style:{position:"fixed",zIndex:1,width:"100%"}},r.a.createElement(y.a,{type:"flex",justify:"space-between"},r.a.createElement(G.a,null,r.a.createElement("div",{style:{color:"white",fontSize:"1.5rem"}},"RegView",r.a.createElement("a",{href:"./changelog.html",target:"_blank"},r.a.createElement("span",{id:"changelog"},"v",Et.version)))),r.a.createElement(G.a,null,r.a.createElement(g.a.Group,null,r.a.createElement(g.a,{ghost:!0,type:"primary",icon:r.a.createElement(tt.a,null),onClick:function(){return v(!0)}},"New Group"),r.a.createElement(g.a,{ghost:!0,type:"primary",icon:r.a.createElement(nt.a,null),onClick:function(){return f(!0)}},"New Register"),r.a.createElement(g.a,{ghost:!0,type:"primary",icon:r.a.createElement(at.a,null),onClick:function(){return x(!0)}},"Export"),r.a.createElement("label",{className:"ant-btn ant-btn-primary ant-btn-background-ghost"},r.a.createElement(rt.a,null),r.a.createElement("span",{style:{marginLeft:8}},"Import"),r.a.createElement("input",{style:{display:"none"},type:"file",accept:"application/json",onChange:function(e){k.readAsText(e.target.files[0]),e.target.value=null}})))))),r.a.createElement(Qe.a,{style:{marginTop:64}},r.a.createElement(Ot,{width:320,theme:"light",style:{overflow:"auto",height:"calc(100vh - 64px)",position:"fixed",left:0}},r.a.createElement(ot,{onSelect:c})),r.a.createElement(Qe.a,{style:{marginLeft:320,background:"#fff",padding:"16px 24px"}},r.a.createElement(xt,null,j))),d&&r.a.createElement(Oe,{parent:C,activePath:n,title:"Create New Register",hide:function(){return f(!1)}}),b&&r.a.createElement(We,{parent:C,title:"Create New Group",hide:function(){return v(!1)}}),O&&r.a.createElement(Ye,{hide:function(){return x(!1)}}))}n(444);i.a.render(r.a.createElement(function(){var e=Object(a.useState)("init"),t=Object(u.a)(e,2),n=t[0],c=t[1];switch(Object(a.useEffect)(function(){le.count().then(function(e){return c(e>1?"loaded":"create")})},[]),Object(a.useEffect)(function(){var e=function(){le.count().then(function(e){return c(e>1?"loaded":"create")})};return le.subscribe(e,"delete"),function(){return le.unsubscribe(e,"delete")}},[]),n){case"init":return r.a.createElement(b.a,{active:!0});case"loaded":return r.a.createElement(wt,null);case"create":return r.a.createElement(yt,{onFinish:function(){return c("loaded")}});default:return null}},null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[229,1,2]]]);
//# sourceMappingURL=main.33a0bef4.chunk.js.map